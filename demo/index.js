/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./demo.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./demo.js":
/*!*****************!*\
  !*** ./demo.js ***!
  \*****************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("const jsonsql = __webpack_require__(/*! ./index */ \"./index.js\")\n\n\n/*\nconst result = jsonsql.compile(`\n@data{ /// + string,null 描述\n    @code 0 /// int 状态码\n    @list(2)[\n        @name '张三' /// string 姓名\n        @age [222212,33223332]?? /// string 年龄\n    ]\n}\n`)\n*/\n\nconst result = jsonsql.compile(`\n    @abc 123 /// + string 测试字段111\n    @bbb 123 /// + string,null 测试222\n`)\n// @2age 1 /// + string,null 年龄\n// @age2 2 /// - string,nll 年龄2\n// @age3 3\n\nconsole.info(result)\n\n\nwindow.onfocus = function () {\n    // window.location.reload()\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9kZW1vLmpzPzdlMTkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsZ0JBQWdCLG1CQUFPLENBQUMsMkJBQVM7OztBQUdqQztBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7OztBQUdBO0FBQ0E7QUFDQSIsImZpbGUiOiIuL2RlbW8uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBqc29uc3FsID0gcmVxdWlyZSgnLi9pbmRleCcpXG5cblxuLypcbmNvbnN0IHJlc3VsdCA9IGpzb25zcWwuY29tcGlsZShgXG5AZGF0YXsgLy8vICsgc3RyaW5nLG51bGwg5o+P6L+wXG4gICAgQGNvZGUgMCAvLy8gaW50IOeKtuaAgeeggVxuICAgIEBsaXN0KDIpW1xuICAgICAgICBAbmFtZSAn5byg5LiJJyAvLy8gc3RyaW5nIOWnk+WQjVxuICAgICAgICBAYWdlIFsyMjIyMTIsMzMyMjMzMzJdPz8gLy8vIHN0cmluZyDlubTpvoRcbiAgICBdXG59XG5gKVxuKi9cblxuY29uc3QgcmVzdWx0ID0ganNvbnNxbC5jb21waWxlKGBcbiAgICBAYWJjIDEyMyAvLy8gKyBzdHJpbmcg5rWL6K+V5a2X5q61MTExXG4gICAgQGJiYiAxMjMgLy8vICsgc3RyaW5nLG51bGwg5rWL6K+VMjIyXG5gKVxuLy8gQDJhZ2UgMSAvLy8gKyBzdHJpbmcsbnVsbCDlubTpvoRcbi8vIEBhZ2UyIDIgLy8vIC0gc3RyaW5nLG5sbCDlubTpvoQyXG4vLyBAYWdlMyAzXG5cbmNvbnNvbGUuaW5mbyhyZXN1bHQpXG5cblxud2luZG93Lm9uZm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpXG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./demo.js\n");

/***/ }),

/***/ "./index.js":
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__(/*! ./lib2 */ \"./lib2/index.js\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9pbmRleC5qcz80MWY1Il0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJyZXF1aXJlIl0sIm1hcHBpbmdzIjoiQUFBQUEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCQyxtQkFBTyxDQUFDLCtCQUFELENBQXhCIiwiZmlsZSI6Ii4vaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbGliMicpXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./index.js\n");

/***/ }),

/***/ "./lib2/Compiler/Matchers.js":
/*!***********************************!*\
  !*** ./lib2/Compiler/Matchers.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar logger = {\n  created: false,\n  // 创建匹配器时\n  scaning: true // 开始扫描时\n\n};\nvar matchers = {};\n\nvar Matcher =\n/*#__PURE__*/\nfunction () {\n  function Matcher() {\n    var _this = this;\n\n    _classCallCheck(this, Matcher);\n\n    logger.created && console.warn(\"new \".concat(this.constructor.name), this);\n    var originScan = this.scan;\n\n    this.scan = function (parentRuntime) {\n      logger.scaning && console.warn(\"\".concat(_this.constructor.name, \" scaning\"), _this);\n      originScan.call(_this, parentRuntime);\n    };\n  }\n\n  _createClass(Matcher, [{\n    key: \"suffixNum\",\n    value: function suffixNum(m, n) {\n      // 匹配次数\n      // ? = {0,1}\n      // * = {0,Infinity}\n      // + = {1,Infinity}\n      // {m,n} = {m,n}\n      this.m = m;\n      this.n = n;\n    } // 执行扫描操作\n\n  }, {\n    key: \"scan\",\n    value: function scan() {\n      throw Error(\"Matcher.scan must be override by \".concat(this.constructor.name, \".scan\"));\n    }\n  }, {\n    key: \"match\",\n    value: function match() {\n      throw Error(\"Matcher.match must be override by \".concat(this.constructor.name, \".match\"));\n    }\n  }, {\n    key: \"matchSuccess\",\n    value: function matchSuccess() {\n      throw Error(\"Matcher.matchSuccess must be override by \".concat(this.constructor.name, \".matchSuccess\"));\n    }\n  }, {\n    key: \"matchFailure\",\n    value: function matchFailure() {\n      throw Error(\"Matcher.matchFailure must be override by \".concat(this.constructor.name, \".matchFailure\"));\n    }\n  }]);\n\n  return Matcher;\n}();\n\nMatcher.prototype.m = Matcher.prototype.n = 1;\n\nvar RootMatcher =\n/*#__PURE__*/\nfunction (_Matcher) {\n  _inherits(RootMatcher, _Matcher);\n\n  function RootMatcher(resolve, reject) {\n    var _this2;\n\n    _classCallCheck(this, RootMatcher);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(RootMatcher).call(this));\n    _this2.resolve = resolve;\n    _this2.reject = reject;\n    return _this2;\n  }\n\n  _createClass(RootMatcher, [{\n    key: \"matchFailure\",\n    value: function matchFailure(childRuntime, error) {\n      this.reject(childRuntime, error);\n    }\n  }, {\n    key: \"matchSuccess\",\n    value: function matchSuccess(childRuntime) {\n      this.resolve(childRuntime);\n    }\n  }]);\n\n  return RootMatcher;\n}(Matcher);\n\nvar HookMatcher =\n/*#__PURE__*/\nfunction (_Matcher2) {\n  _inherits(HookMatcher, _Matcher2);\n\n  function HookMatcher(id, _ref) {\n    var _this3;\n\n    var before = _ref.before,\n        done = _ref.done,\n        source = _ref.source;\n\n    _classCallCheck(this, HookMatcher);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(HookMatcher).call(this));\n    _this3._id = id;\n    _this3._hooks = {\n      before: before,\n      done: done\n    };\n    _this3._source = source;\n    _this3._child = _this3._parseSource(id, source);\n    matchers[id] = _assertThisInitialized(_this3);\n    return _this3;\n  }\n\n  _createClass(HookMatcher, [{\n    key: \"scan\",\n    value: function scan(parentRuntime) {\n      this._child.scan(parentRuntime.createChild(this));\n    }\n  }, {\n    key: \"matchSuccess\",\n    value: function matchSuccess(childRuntime) {\n      var thisRuntime = childRuntime.parent;\n      thisRuntime.appendChild(childRuntime);\n      thisRuntime.matchs++;\n\n      if (thisRuntime.matchs < this.n) {\n        // 继续下一个分量的扫描\n        this._child.scan(thisRuntime);\n      } else {\n        // 完成扫描\n        thisRuntime.resolve();\n      }\n    }\n  }, {\n    key: \"matchFailure\",\n    value: function matchFailure(childRuntime, error) {\n      var thisRuntime = childRuntime.parent;\n\n      if (thisRuntime.matchs < this.m) {\n        // 当前必选项匹配不足，则匹配失败\n        thisRuntime.reject(error);\n      } else {\n        thisRuntime.resolve();\n      }\n    }\n  }, {\n    key: \"_parseSource\",\n    value: function _parseSource(id, source) {\n      var curMatcher;\n\n      if (typeof source === 'function') {\n        curMatcher = new GroupMatcher(id);\n        curMatcher.putChild(new RuleMatcher(id, source));\n        curMatcher.putEnd();\n        return curMatcher;\n      }\n\n      var groupStack = [];\n      var groupParserRegExp = RegExp([/'((?:[^']|\\\\\\\\|\\\\')+)'/, // 匹配字符串\n      /<(\\w+)>/, // 匹配link\n      /(\\()/, /(\\))/, // 匹配分组\n      /([?*+]|\\{\\d+\\}|\\{\\d+,(?:\\d+)?\\}|\\{,\\d+\\})/, // \"?\", \"*\", \"+\", \"{n}\", \"{m,}\", \"{m,n}\", \"{,n}\"\n      /(\\|)/ // \"|\"\n      ].map(function (item) {\n        return item.source;\n      }).join('|'), 'g');\n\n      var groupStackTop = function groupStackTop() {\n        return groupStack[groupStack.length - 1];\n      };\n\n      var groupParser = function groupParser(all, matchString, matchLinkName, matchGroupOpen, matchGroupClose, matchSuffixNum, matchOr) {\n        switch (false) {\n          case !matchString:\n            {\n              curMatcher = groupStackTop();\n              var newMatcher = new StringMatcher(matchString);\n              curMatcher.putChild(newMatcher);\n              curMatcher = newMatcher;\n              break;\n            }\n\n          case !matchLinkName:\n            {\n              curMatcher = groupStackTop();\n\n              var _newMatcher = new LinkMatcher(matchLinkName);\n\n              curMatcher.putChild(_newMatcher);\n              curMatcher = _newMatcher;\n              break;\n            }\n\n          case !matchGroupOpen:\n            {\n              curMatcher = groupStackTop();\n\n              var _newMatcher2 = new GroupMatcher();\n\n              curMatcher.putChild(_newMatcher2);\n              curMatcher = _newMatcher2;\n              groupStack.push(curMatcher);\n              break;\n            }\n\n          case !matchGroupClose:\n            {\n              curMatcher = groupStack.pop();\n              curMatcher.putEnd();\n              break;\n            }\n\n          case !matchSuffixNum:\n            {\n              switch (matchSuffixNum) {\n                case '?':\n                  {\n                    curMatcher.suffixNum(0, 1);\n                    break;\n                  }\n\n                case '*':\n                  {\n                    curMatcher.suffixNum(0, Infinity);\n                    break;\n                  }\n\n                case '+':\n                  {\n                    curMatcher.suffixNum(1, Infinity);\n                    break;\n                  }\n\n                default:\n                  {\n                    matchSuffixNum = matchSuffixNum.slice(1, -1).split(',');\n\n                    if (matchSuffixNum.length === 1) {\n                      curMatcher.suffixNum(+matchSuffixNum[0], +matchSuffixNum[0]);\n                    } else {\n                      curMatcher.suffixNum(+matchSuffixNum[0] || 0, +matchSuffixNum[1] || Infinity);\n                    }\n                  }\n              }\n\n              break;\n            }\n\n          case !matchOr:\n            {\n              curMatcher = groupStackTop();\n              curMatcher.putOr();\n              break;\n            }\n        }\n      };\n\n      if (typeof source === 'string') {\n        curMatcher = new GroupMatcher(id);\n        groupStack.push(curMatcher);\n        source.replace(/\\/\\/\\/|\\/\\*[\\w\\W]*\\*\\//g, '').replace(groupParserRegExp, groupParser);\n        curMatcher = groupStack.pop();\n        curMatcher.putEnd();\n        return curMatcher;\n      }\n\n      throw Error(\"Compiler.option.mathcers.\".concat(this.key, \".source must be a function or string\"));\n    }\n  }]);\n\n  return HookMatcher;\n}(Matcher);\n\nvar GroupMatcher =\n/*#__PURE__*/\nfunction (_Matcher3) {\n  _inherits(GroupMatcher, _Matcher3);\n\n  function GroupMatcher() {\n    var _this4;\n\n    _classCallCheck(this, GroupMatcher);\n\n    _this4 = _possibleConstructorReturn(this, _getPrototypeOf(GroupMatcher).call(this));\n    _this4._tempOr = null;\n    _this4._tempAnd = null;\n    _this4._orFirstChild = null;\n    return _this4;\n  } // 插入子级\n\n\n  _createClass(GroupMatcher, [{\n    key: \"putChild\",\n    value: function putChild(matcher) {\n      var _tempOr = this._tempOr,\n          _tempAnd = this._tempAnd;\n\n      if (_tempOr) {\n        // 已经存在or节点\n        // 继续添加and节点\n        if (_tempAnd) {\n          _tempAnd.nextSibling = matcher;\n          matcher.previousSibling = _tempAnd;\n          this._tempAnd = matcher;\n        } else {\n          this._tempOr = _tempOr.nextSibling = {\n            andFirstChild: this._tempAnd = matcher\n          };\n        }\n      } else {\n        this._orFirstChild = this._tempOr = {\n          andFirstChild: this._tempAnd = matcher\n        };\n      }\n\n      matcher.parentNode = this;\n      this._tempAnd.groupParent = this._tempOr; // 子级链回父级分组or，回溯的使用使用\n    } // 插入新的or分支\n\n  }, {\n    key: \"putOr\",\n    value: function putOr() {\n      this._tempAnd = null;\n    } // 完成节点创建\n\n  }, {\n    key: \"putEnd\",\n    value: function putEnd() {\n      delete this._tempOr;\n      delete this._tempAnd;\n    }\n  }, {\n    key: \"scan\",\n    value: function scan(parentRuntime) {\n      var orChild = this._orFirstChild;\n      var andChild = orChild.andFirstChild;\n      andChild.scan(parentRuntime.createChild(this, {\n        orChild: orChild,\n        andChild: andChild,\n        tempChilds: []\n      }));\n    }\n  }, {\n    key: \"matchSuccess\",\n    value: function matchSuccess(childRuntime) {\n      // (A{3} B{1,2} | A{2} B{2})\n      // 子项扫描成功，则判断是否是最后项，是则进行下一个分量扫描，否则继续下一个子项扫描\n      var thisRuntime = childRuntime.parent;\n      var andChild = thisRuntime.andChild;\n\n      if (thisRuntime.tempLastChild) {\n        thisRuntime.tempLastChild.nextSibling = childRuntime;\n        childRuntime.previousSibling = thisRuntime.tempLastChild;\n        thisRuntime.tempLastChild = childRuntime;\n      } else {\n        thisRuntime.tempLastChild = thisRuntime.tempFirstChild = childRuntime;\n      } // 存在下一个子项\n\n\n      if (andChild.nextSibling) {\n        andChild = thisRuntime.andChild = andChild.nextSibling;\n        andChild.scan(thisRuntime);\n      } else {\n        thisRuntime.tempChilds.push({\n          firstChild: thisRuntime.tempFirstChild,\n          lastChild: thisRuntime.tempLastChild\n        });\n        thisRuntime.tempFirstChild = thisRuntime.tempLastChild = null;\n        thisRuntime.matchs++;\n\n        if (thisRuntime.matchs < this.n) {\n          // 继续下一个分量的扫描\n          thisRuntime.orChild = this._orFirstChild;\n          thisRuntime.andChild = thisRuntime.orChild.andFirstChild;\n          thisRuntime.andChild.scan(thisRuntime);\n        } else {\n          // 已经完成了所有的扫描\n          this._resolve(thisRuntime);\n        }\n      }\n    }\n  }, {\n    key: \"matchFailure\",\n    value: function matchFailure(childRuntime, error) {\n      var thisRuntime = childRuntime.parent; // 回退当前扫描结果\n\n      if (thisRuntime.tempFirstChild) {\n        thisRuntime.sr.moveTo(thisRuntime.tempFirstChild.bIndex);\n        thisRuntime.tempFirstChild = thisRuntime.tempLastChild = null;\n      } // 进入或分支进行扫描\n\n\n      if (thisRuntime.orChild.nextSibling) {\n        thisRuntime.orChild = thisRuntime.orChild.nextSibling;\n        thisRuntime.andChild = thisRuntime.orChild.andFirstChild;\n        thisRuntime.andChild.scan(thisRuntime);\n      } else {\n        if (thisRuntime.matchs < this.m) {\n          thisRuntime.reject(error);\n        } else {\n          this._resolve(thisRuntime);\n        }\n      }\n    }\n  }, {\n    key: \"_resolve\",\n    value: function _resolve(thisRuntime) {\n      var nowLastChild;\n\n      for (var i = 0; i < thisRuntime.tempChilds.length; i++) {\n        var _thisRuntime$tempChil = thisRuntime.tempChilds[i],\n            firstChild = _thisRuntime$tempChil.firstChild,\n            lastChild = _thisRuntime$tempChil.lastChild;\n\n        if (nowLastChild) {\n          nowLastChild.nextSibling = firstChild;\n          nowLastChild = thisRuntime.lastChild = lastChild;\n        } else {\n          thisRuntime.firstChild = firstChild;\n          nowLastChild = thisRuntime.lastChild = lastChild;\n        }\n      }\n\n      delete thisRuntime.tempChilds;\n      delete thisRuntime.tempFirstChild;\n      delete thisRuntime.tempLastChild;\n      thisRuntime.resolve();\n    }\n  }]);\n\n  return GroupMatcher;\n}(Matcher);\n\nvar LinkMatcher =\n/*#__PURE__*/\nfunction (_Matcher4) {\n  _inherits(LinkMatcher, _Matcher4);\n\n  function LinkMatcher(id) {\n    var _this5;\n\n    _classCallCheck(this, LinkMatcher);\n\n    _this5 = _possibleConstructorReturn(this, _getPrototypeOf(LinkMatcher).call(this));\n    _this5._id = id;\n    return _this5;\n  }\n\n  _createClass(LinkMatcher, [{\n    key: \"scan\",\n    value: function scan(parentRuntime) {\n      matchers[this._id].scan(parentRuntime.createChild(this));\n    }\n  }, {\n    key: \"matchSuccess\",\n    value: function matchSuccess(childRuntime) {\n      var thisRuntime = childRuntime.parent;\n      thisRuntime.appendChild(childRuntime);\n      thisRuntime.matchs++;\n\n      if (thisRuntime.matchs < this.n) {\n        // 继续下一个分量的扫描\n        matchers[this._id].scan(thisRuntime);\n      } else {\n        // 完成扫描\n        thisRuntime.resolve();\n      }\n    }\n  }, {\n    key: \"matchFailure\",\n    value: function matchFailure(childRuntime, error) {\n      var thisRuntime = childRuntime.parent;\n\n      if (thisRuntime.matchs < this.m) {\n        // 当前必选项匹配不足，则匹配失败\n        thisRuntime.reject(error);\n      } else {\n        thisRuntime.resolve();\n      }\n    }\n  }]);\n\n  return LinkMatcher;\n}(Matcher);\n\nvar RuleMatcher =\n/*#__PURE__*/\nfunction (_Matcher5) {\n  _inherits(RuleMatcher, _Matcher5);\n\n  function RuleMatcher(id, match) {\n    var _this6;\n\n    _classCallCheck(this, RuleMatcher);\n\n    _this6 = _possibleConstructorReturn(this, _getPrototypeOf(RuleMatcher).call(this));\n    _this6._id = id;\n    _this6._match = match;\n    matchers[id] = _assertThisInitialized(_this6);\n    return _this6;\n  }\n\n  _createClass(RuleMatcher, [{\n    key: \"scan\",\n    value: function scan(parentRuntime) {\n      var sr = parentRuntime.sr;\n      var bIndex = sr.chIndex;\n      var thisRuntime = parentRuntime.createChild(this);\n      sr.createRecord();\n\n      if (this._match(sr)) {\n        sr.removeRecord();\n        thisRuntime.resolve(bIndex, sr.chIndex);\n      } else {\n        sr.rollback();\n        thisRuntime.reject();\n      }\n    }\n  }]);\n\n  return RuleMatcher;\n}(Matcher);\n\nvar StringMatcher =\n/*#__PURE__*/\nfunction (_Matcher6) {\n  _inherits(StringMatcher, _Matcher6);\n\n  function StringMatcher(source) {\n    var _this7;\n\n    _classCallCheck(this, StringMatcher);\n\n    _this7 = _possibleConstructorReturn(this, _getPrototypeOf(StringMatcher).call(this));\n    _this7._source = source;\n    return _this7;\n  }\n\n  _createClass(StringMatcher, [{\n    key: \"scan\",\n    value: function scan(parentRuntime) {\n      var sr = parentRuntime.sr;\n      var thisRuntime = parentRuntime.createChild(this);\n      var bIndex = sr.chIndex;\n      var m = this.m,\n          n = this.n;\n      var isSuccess = true; // 必选集\n\n      sr.createRecord();\n\n      for (var i = 0; i < m; i++) {\n        if (!this._match(sr)) {\n          isSuccess = false;\n          sr.rollback();\n          break;\n        }\n      }\n\n      if (isSuccess) {\n        sr.removeRecord(); // 可选集\n\n        for (var _i = m; _i < n; _i++) {\n          sr.createRecord();\n\n          if (!this._match(sr)) {\n            sr.rollback();\n            break;\n          } else {\n            sr.removeRecord();\n          }\n        }\n\n        thisRuntime.resolve(bIndex, sr.chIndex);\n      } else {\n        thisRuntime.reject();\n      }\n    }\n  }, {\n    key: \"_match\",\n    value: function _match(sr) {\n      var source = this._source;\n\n      for (var i = 0, lg = source.length; i < lg; i++) {\n        if (sr.read() !== source[i]) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  }]);\n\n  return StringMatcher;\n}(Matcher);\n\nmodule.exports = {\n  RootMatcher: RootMatcher,\n  RuleMatcher: RuleMatcher,\n  HookMatcher: HookMatcher\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIyL0NvbXBpbGVyL01hdGNoZXJzLmpzPzk5ZGIiXSwibmFtZXMiOlsibG9nZ2VyIiwiY3JlYXRlZCIsInNjYW5pbmciLCJtYXRjaGVycyIsIk1hdGNoZXIiLCJjb25zb2xlIiwid2FybiIsImNvbnN0cnVjdG9yIiwibmFtZSIsIm9yaWdpblNjYW4iLCJzY2FuIiwicGFyZW50UnVudGltZSIsImNhbGwiLCJtIiwibiIsIkVycm9yIiwicHJvdG90eXBlIiwiUm9vdE1hdGNoZXIiLCJyZXNvbHZlIiwicmVqZWN0IiwiY2hpbGRSdW50aW1lIiwiZXJyb3IiLCJIb29rTWF0Y2hlciIsImlkIiwiYmVmb3JlIiwiZG9uZSIsInNvdXJjZSIsIl9pZCIsIl9ob29rcyIsIl9zb3VyY2UiLCJfY2hpbGQiLCJfcGFyc2VTb3VyY2UiLCJjcmVhdGVDaGlsZCIsInRoaXNSdW50aW1lIiwicGFyZW50IiwiYXBwZW5kQ2hpbGQiLCJtYXRjaHMiLCJjdXJNYXRjaGVyIiwiR3JvdXBNYXRjaGVyIiwicHV0Q2hpbGQiLCJSdWxlTWF0Y2hlciIsInB1dEVuZCIsImdyb3VwU3RhY2siLCJncm91cFBhcnNlclJlZ0V4cCIsIlJlZ0V4cCIsIm1hcCIsIml0ZW0iLCJqb2luIiwiZ3JvdXBTdGFja1RvcCIsImxlbmd0aCIsImdyb3VwUGFyc2VyIiwiYWxsIiwibWF0Y2hTdHJpbmciLCJtYXRjaExpbmtOYW1lIiwibWF0Y2hHcm91cE9wZW4iLCJtYXRjaEdyb3VwQ2xvc2UiLCJtYXRjaFN1ZmZpeE51bSIsIm1hdGNoT3IiLCJuZXdNYXRjaGVyIiwiU3RyaW5nTWF0Y2hlciIsIkxpbmtNYXRjaGVyIiwicHVzaCIsInBvcCIsInN1ZmZpeE51bSIsIkluZmluaXR5Iiwic2xpY2UiLCJzcGxpdCIsInB1dE9yIiwicmVwbGFjZSIsImtleSIsIl90ZW1wT3IiLCJfdGVtcEFuZCIsIl9vckZpcnN0Q2hpbGQiLCJtYXRjaGVyIiwibmV4dFNpYmxpbmciLCJwcmV2aW91c1NpYmxpbmciLCJhbmRGaXJzdENoaWxkIiwicGFyZW50Tm9kZSIsImdyb3VwUGFyZW50Iiwib3JDaGlsZCIsImFuZENoaWxkIiwidGVtcENoaWxkcyIsInRlbXBMYXN0Q2hpbGQiLCJ0ZW1wRmlyc3RDaGlsZCIsImZpcnN0Q2hpbGQiLCJsYXN0Q2hpbGQiLCJfcmVzb2x2ZSIsInNyIiwibW92ZVRvIiwiYkluZGV4Iiwibm93TGFzdENoaWxkIiwiaSIsIm1hdGNoIiwiX21hdGNoIiwiY2hJbmRleCIsImNyZWF0ZVJlY29yZCIsInJlbW92ZVJlY29yZCIsInJvbGxiYWNrIiwiaXNTdWNjZXNzIiwibGciLCJyZWFkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUEsSUFBTUEsTUFBTSxHQUFHO0FBQ1hDLFNBQU8sRUFBRSxLQURFO0FBQ0s7QUFDaEJDLFNBQU8sRUFBRSxJQUZFLENBRUk7O0FBRkosQ0FBZjtBQUtBLElBQU1DLFFBQVEsR0FBRyxFQUFqQjs7SUFFTUMsTzs7O0FBQ0YscUJBQWU7QUFBQTs7QUFBQTs7QUFDWEosVUFBTSxDQUFDQyxPQUFQLElBQW1CSSxPQUFPLENBQUNDLElBQVIsZUFBb0IsS0FBS0MsV0FBTCxDQUFpQkMsSUFBckMsR0FBNkMsSUFBN0MsQ0FBbkI7QUFFQSxRQUFNQyxVQUFVLEdBQUcsS0FBS0MsSUFBeEI7O0FBQ0EsU0FBS0EsSUFBTCxHQUFZLFVBQUNDLGFBQUQsRUFBbUI7QUFDM0JYLFlBQU0sQ0FBQ0UsT0FBUCxJQUFtQkcsT0FBTyxDQUFDQyxJQUFSLFdBQWdCLEtBQUksQ0FBQ0MsV0FBTCxDQUFpQkMsSUFBakMsZUFBaUQsS0FBakQsQ0FBbkI7QUFDQUMsZ0JBQVUsQ0FBQ0csSUFBWCxDQUFnQixLQUFoQixFQUFzQkQsYUFBdEI7QUFDSCxLQUhEO0FBSUg7Ozs7OEJBRVVFLEMsRUFBR0MsQyxFQUFHO0FBQUU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQUtELENBQUwsR0FBU0EsQ0FBVDtBQUNBLFdBQUtDLENB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QyxHQUFHLENBQVIsRUFBV1EsRUFBRSxHQUFHekUsTUFBTSxDQUFDdUIsTUFBNUIsRUFBb0MwQyxDQUFDLEdBQUdRLEVBQXhDLEVBQTRDUixDQUFDLEVBQTdDLEVBQWlEO0FBQzdDLFlBQUlKLEVBQUUsQ0FBQ2EsSUFBSCxPQUFjMUUsTUFBTSxDQUFDaUUsQ0FBRCxDQUF4QixFQUE2QjtBQUN6QixpQkFBTyxLQUFQO0FBQ0g7QUFDSjs7QUFDRCxhQUFPLElBQVA7QUFDSDs7OztFQWxEdUJ2RixPOztBQXFENUJpRyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFDYnJGLGFBQVcsRUFBWEEsV0FEYTtBQUNBdUIsYUFBVyxFQUFYQSxXQURBO0FBQ2FsQixhQUFXLEVBQVhBO0FBRGIsQ0FBakIiLCJmaWxlIjoiLi9saWIyL0NvbXBpbGVyL01hdGNoZXJzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5cbmNvbnN0IGxvZ2dlciA9IHtcbiAgICBjcmVhdGVkOiBmYWxzZSwgLy8g5Yib5bu65Yy56YWN5Zmo5pe2XG4gICAgc2NhbmluZzogdHJ1ZSwgLy8g5byA5aeL5omr5o+P5pe2XG59XG5cbmNvbnN0IG1hdGNoZXJzID0ge31cblxuY2xhc3MgTWF0Y2hlciB7XG4gICAgY29uc3RydWN0b3IgKCkge1xuICAgICAgICBsb2dnZXIuY3JlYXRlZCAmJiAoY29uc29sZS53YXJuKGBuZXcgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9YCwgdGhpcykpXG5cbiAgICAgICAgY29uc3Qgb3JpZ2luU2NhbiA9IHRoaXMuc2NhblxuICAgICAgICB0aGlzLnNjYW4gPSAocGFyZW50UnVudGltZSkgPT4ge1xuICAgICAgICAgICAgbG9nZ2VyLnNjYW5pbmcgJiYgKGNvbnNvbGUud2FybihgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9IHNjYW5pbmdgLCB0aGlzKSlcbiAgICAgICAgICAgIG9yaWdpblNjYW4uY2FsbCh0aGlzLCBwYXJlbnRSdW50aW1lKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3VmZml4TnVtIChtLCBuKSB7IC8vIOWMuemFjeasoeaVsFxuICAgICAgICAvLyA/ID0gezAsMX1cbiAgICAgICAgLy8gKiA9IHswLEluZmluaXR5fVxuICAgICAgICAvLyArID0gezEsSW5maW5pdHl9XG4gICAgICAgIC8vIHttLG59ID0ge20sbn1cbiAgICAgICAgdGhpcy5tID0gbVxuICAgICAgICB0aGlzLm4gPSBuXG4gICAgfVxuXG4gICAgLy8g5omn6KGM5omr5o+P5pON5L2cXG4gICAgc2NhbiAoKSB7XG4gICAgICAgIHRocm93IEVycm9yKGBNYXRjaGVyLnNjYW4gbXVzdCBiZSBvdmVycmlkZSBieSAke3RoaXMuY29uc3RydWN0b3IubmFtZX0uc2NhbmApXG4gICAgfVxuXG4gICAgbWF0Y2ggKCkge1xuICAgICAgICB0aHJvdyBFcnJvcihgTWF0Y2hlci5tYXRjaCBtdXN0IGJlIG92ZXJyaWRlIGJ5ICR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfS5tYXRjaGApXG4gICAgfVxuXG4gICAgbWF0Y2hTdWNjZXNzICgpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoYE1hdGNoZXIubWF0Y2hTdWNjZXNzIG11c3QgYmUgb3ZlcnJpZGUgYnkgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9Lm1hdGNoU3VjY2Vzc2ApXG4gICAgfVxuXG4gICAgbWF0Y2hGYWlsdXJlICgpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoYE1hdGNoZXIubWF0Y2hGYWlsdXJlIG11c3QgYmUgb3ZlcnJpZGUgYnkgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9Lm1hdGNoRmFpbHVyZWApXG4gICAgfVxufVxuTWF0Y2hlci5wcm90b3R5cGUubSA9IE1hdGNoZXIucHJvdG90eXBlLm4gPSAxXG5cbmNsYXNzIFJvb3RNYXRjaGVyIGV4dGVuZHMgTWF0Y2hlciB7XG4gICAgY29uc3RydWN0b3IgKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzdXBlcigpXG4gICAgICAgIHRoaXMucmVzb2x2ZSA9IHJlc29sdmVcbiAgICAgICAgdGhpcy5yZWplY3QgPSByZWplY3RcbiAgICB9XG5cbiAgICBtYXRjaEZhaWx1cmUgKGNoaWxkUnVudGltZSwgZXJyb3IpIHtcbiAgICAgICAgdGhpcy5yZWplY3QoY2hpbGRSdW50aW1lLCBlcnJvcilcbiAgICB9XG5cbiAgICBtYXRjaFN1Y2Nlc3MgKGNoaWxkUnVudGltZSkge1xuICAgICAgICB0aGlzLnJlc29sdmUoY2hpbGRSdW50aW1lKVxuICAgIH1cbn1cblxuXG5jbGFzcyBIb29rTWF0Y2hlciBleHRlbmRzIE1hdGNoZXIge1xuICAgIGNvbnN0cnVjdG9yIChpZCwgeyBiZWZvcmUsIGRvbmUsIHNvdXJjZSB9KSB7XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgdGhpcy5faWQgPSBpZFxuICAgICAgICB0aGlzLl9ob29rcyA9IHsgYmVmb3JlLCBkb25lIH1cbiAgICAgICAgdGhpcy5fc291cmNlID0gc291cmNlXG4gICAgICAgIHRoaXMuX2NoaWxkID0gdGhpcy5fcGFyc2VTb3VyY2UoaWQsIHNvdXJjZSlcbiAgICAgICAgbWF0Y2hlcnNbaWRdID0gdGhpc1xuICAgIH1cblxuICAgIHNjYW4gKHBhcmVudFJ1bnRpbWUpIHtcbiAgICAgICAgdGhpcy5fY2hpbGQuc2NhbihwYXJlbnRSdW50aW1lLmNyZWF0ZUNoaWxkKHRoaXMpKVxuICAgIH1cblxuICAgIG1hdGNoU3VjY2VzcyAoY2hpbGRSdW50aW1lKSB7XG4gICAgICAgIGNvbnN0IHRoaXNSdW50aW1lID0gY2hpbGRSdW50aW1lLnBhcmVudFxuICAgICAgICB0aGlzUnVudGltZS5hcHBlbmRDaGlsZChjaGlsZFJ1bnRpbWUpXG4gICAgICAgIHRoaXNSdW50aW1lLm1hdGNocysrXG5cbiAgICAgICAgaWYgKHRoaXNSdW50aW1lLm1hdGNocyA8IHRoaXMubikge1xuICAgICAgICAgICAgLy8g57un57ut5LiL5LiA5Liq5YiG6YeP55qE5omr5o+PXG4gICAgICAgICAgICB0aGlzLl9jaGlsZC5zY2FuKHRoaXNSdW50aW1lKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8g5a6M5oiQ5omr5o+PXG4gICAgICAgICAgICB0aGlzUnVudGltZS5yZXNvbHZlKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1hdGNoRmFpbHVyZSAoY2hpbGRSdW50aW1lLCBlcnJvcikge1xuICAgICAgICBjb25zdCB0aGlzUnVudGltZSA9IGNoaWxkUnVudGltZS5wYXJlbnRcbiAgICAgICAgaWYgKHRoaXNSdW50aW1lLm1hdGNocyA8IHRoaXMubSkge1xuICAgICAgICAgICAgLy8g5b2T5YmN5b+F6YCJ6aG55Yy56YWN5LiN6Laz77yM5YiZ5Yy56YWN5aSx6LSlXG4gICAgICAgICAgICB0aGlzUnVudGltZS5yZWplY3QoZXJyb3IpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzUnVudGltZS5yZXNvbHZlKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9wYXJzZVNvdXJjZSAoaWQsIHNvdXJjZSkge1xuICAgICAgICBsZXQgY3VyTWF0Y2hlclxuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY3VyTWF0Y2hlciA9IG5ldyBHcm91cE1hdGNoZXIoaWQpXG4gICAgICAgICAgICBjdXJNYXRjaGVyLnB1dENoaWxkKG5ldyBSdWxlTWF0Y2hlcihpZCwgc291cmNlKSlcbiAgICAgICAgICAgIGN1ck1hdGNoZXIucHV0RW5kKClcbiAgICAgICAgICAgIHJldHVybiBjdXJNYXRjaGVyXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBncm91cFN0YWNrID0gW11cbiAgICAgICAgY29uc3QgZ3JvdXBQYXJzZXJSZWdFeHAgPSBSZWdFeHAoW1xuICAgICAgICAgICAgLycoKD86W14nXXxcXFxcXFxcXHxcXFxcJykrKScvLCAvLyDljLnphY3lrZfnrKbkuLJcbiAgICAgICAgICAgIC88KFxcdyspPi8sIC8vIOWMuemFjWxpbmtcbiAgICAgICAgICAgIC8oXFwoKS8sIC8oXFwpKS8sIC8vIOWMuemFjeWIhue7hFxuICAgICAgICAgICAgLyhbPyorXXxcXHtcXGQrXFx9fFxce1xcZCssKD86XFxkKyk/XFx9fFxceyxcXGQrXFx9KS8sIC8vIFwiP1wiLCBcIipcIiwgXCIrXCIsIFwie259XCIsIFwie20sfVwiLCBcInttLG59XCIsIFwieyxufVwiXG4gICAgICAgICAgICAvKFxcfCkvLCAvLyBcInxcIlxuICAgICAgICBdLm1hcChpdGVtID0+IGl0ZW0uc291cmNlKS5qb2luKCd8JyksICdnJylcbiAgICAgICAgY29uc3QgZ3JvdXBTdGFja1RvcCA9ICgpID0+IGdyb3VwU3RhY2tbZ3JvdXBTdGFjay5sZW5ndGggLSAxXVxuICAgICAgICBjb25zdCBncm91cFBhcnNlciA9IChcbiAgICAgICAgICAgIGFsbCxcbiAgICAgICAgICAgIG1hdGNoU3RyaW5nLFxuICAgICAgICAgICAgbWF0Y2hMaW5rTmFtZSxcbiAgICAgICAgICAgIG1hdGNoR3JvdXBPcGVuLCBtYXRjaEdyb3VwQ2xvc2UsXG4gICAgICAgICAgICBtYXRjaFN1ZmZpeE51bSxcbiAgICAgICAgICAgIG1hdGNoT3JcbiAgICAgICAgKSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAhbWF0Y2hTdHJpbmc6IHtcbiAgICAgICAgICAgICAgICAgICAgY3VyTWF0Y2hlciA9IGdyb3VwU3RhY2tUb3AoKVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdNYXRjaGVyID0gbmV3IFN0cmluZ01hdGNoZXIobWF0Y2hTdHJpbmcpXG4gICAgICAgICAgICAgICAgICAgIGN1ck1hdGNoZXIucHV0Q2hpbGQobmV3TWF0Y2hlcilcbiAgICAgICAgICAgICAgICAgICAgY3VyTWF0Y2hlciA9IG5ld01hdGNoZXJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAhbWF0Y2hMaW5rTmFtZToge1xuICAgICAgICAgICAgICAgICAgICBjdXJNYXRjaGVyID0gZ3JvdXBTdGFja1RvcCgpXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld01hdGNoZXIgPSBuZXcgTGlua01hdGNoZXIobWF0Y2hMaW5rTmFtZSlcbiAgICAgICAgICAgICAgICAgICAgY3VyTWF0Y2hlci5wdXRDaGlsZChuZXdNYXRjaGVyKVxuICAgICAgICAgICAgICAgICAgICBjdXJNYXRjaGVyID0gbmV3TWF0Y2hlclxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICFtYXRjaEdyb3VwT3Blbjoge1xuICAgICAgICAgICAgICAgICAgICBjdXJNYXRjaGVyID0gZ3JvdXBTdGFja1RvcCgpXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld01hdGNoZXIgPSBuZXcgR3JvdXBNYXRjaGVyKClcbiAgICAgICAgICAgICAgICAgICAgY3VyTWF0Y2hlci5wdXRDaGlsZChuZXdNYXRjaGVyKVxuICAgICAgICAgICAgICAgICAgICBjdXJNYXRjaGVyID0gbmV3TWF0Y2hlclxuICAgICAgICAgICAgICAgICAgICBncm91cFN0YWNrLnB1c2goY3VyTWF0Y2hlcilcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAhbWF0Y2hHcm91cENsb3NlOiB7XG4gICAgICAgICAgICAgICAgICAgIGN1ck1hdGNoZXIgPSBncm91cFN0YWNrLnBvcCgpXG4gICAgICAgICAgICAgICAgICAgIGN1ck1hdGNoZXIucHV0RW5kKClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAhbWF0Y2hTdWZmaXhOdW06IHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChtYXRjaFN1ZmZpeE51bSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnPyc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJNYXRjaGVyLnN1ZmZpeE51bSgwLCAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICcqJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ck1hdGNoZXIuc3VmZml4TnVtKDAsIEluZmluaXR5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICcrJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ck1hdGNoZXIuc3VmZml4TnVtKDEsIEluZmluaXR5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hTdWZmaXhOdW0gPSBtYXRjaFN1ZmZpeE51bS5zbGljZSgxLCAtMSkuc3BsaXQoJywnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaFN1ZmZpeE51bS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyTWF0Y2hlci5zdWZmaXhOdW0oK21hdGNoU3VmZml4TnVtWzBdLCArbWF0Y2hTdWZmaXhOdW1bMF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyTWF0Y2hlci5zdWZmaXhOdW0oK21hdGNoU3VmZml4TnVtWzBdIHx8IDAsICttYXRjaFN1ZmZpeE51bVsxXSB8fCBJbmZpbml0eSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAhbWF0Y2hPcjoge1xuICAgICAgICAgICAgICAgICAgICBjdXJNYXRjaGVyID0gZ3JvdXBTdGFja1RvcCgpXG4gICAgICAgICAgICAgICAgICAgIGN1ck1hdGNoZXIucHV0T3IoKVxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY3VyTWF0Y2hlciA9IG5ldyBHcm91cE1hdGNoZXIoaWQpXG4gICAgICAgICAgICBncm91cFN0YWNrLnB1c2goY3VyTWF0Y2hlcilcbiAgICAgICAgICAgIHNvdXJjZS5yZXBsYWNlKC9cXC9cXC9cXC98XFwvXFwqW1xcd1xcV10qXFwqXFwvL2csICcnKS5yZXBsYWNlKGdyb3VwUGFyc2VyUmVnRXhwLCBncm91cFBhcnNlcilcbiAgICAgICAgICAgIGN1ck1hdGNoZXIgPSBncm91cFN0YWNrLnBvcCgpXG4gICAgICAgICAgICBjdXJNYXRjaGVyLnB1dEVuZCgpXG4gICAgICAgICAgICByZXR1cm4gY3VyTWF0Y2hlclxuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgRXJyb3IoYENvbXBpbGVyLm9wdGlvbi5tYXRoY2Vycy4ke3RoaXMua2V5fS5zb3VyY2UgbXVzdCBiZSBhIGZ1bmN0aW9uIG9yIHN0cmluZ2ApXG4gICAgfVxufVxuXG5jbGFzcyBHcm91cE1hdGNoZXIgZXh0ZW5kcyBNYXRjaGVyIHtcbiAgICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgdGhpcy5fdGVtcE9yID0gbnVsbFxuICAgICAgICB0aGlzLl90ZW1wQW5kID0gbnVsbFxuICAgICAgICB0aGlzLl9vckZpcnN0Q2hpbGQgPSBudWxsXG4gICAgfVxuXG4gICAgLy8g5o+S5YWl5a2Q57qnXG4gICAgcHV0Q2hpbGQgKG1hdGNoZXIpIHtcbiAgICAgICAgY29uc3QgeyBfdGVtcE9yLCBfdGVtcEFuZCB9ID0gdGhpc1xuICAgICAgICBpZiAoX3RlbXBPcikgeyAvLyDlt7Lnu4/lrZjlnKhvcuiKgueCuVxuICAgICAgICAgICAgLy8g57un57ut5re75YqgYW5k6IqC54K5XG4gICAgICAgICAgICBpZiAoX3RlbXBBbmQpIHtcbiAgICAgICAgICAgICAgICBfdGVtcEFuZC5uZXh0U2libGluZyA9IG1hdGNoZXJcbiAgICAgICAgICAgICAgICBtYXRjaGVyLnByZXZpb3VzU2libGluZyA9IF90ZW1wQW5kXG4gICAgICAgICAgICAgICAgdGhpcy5fdGVtcEFuZCA9IG1hdGNoZXJcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGVtcE9yID0gX3RlbXBPci5uZXh0U2libGluZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgYW5kRmlyc3RDaGlsZDogdGhpcy5fdGVtcEFuZCA9IG1hdGNoZXIsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fb3JGaXJzdENoaWxkID0gdGhpcy5fdGVtcE9yID0ge1xuICAgICAgICAgICAgICAgIGFuZEZpcnN0Q2hpbGQ6IHRoaXMuX3RlbXBBbmQgPSBtYXRjaGVyLFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG1hdGNoZXIucGFyZW50Tm9kZSA9IHRoaXNcbiAgICAgICAgdGhpcy5fdGVtcEFuZC5ncm91cFBhcmVudCA9IHRoaXMuX3RlbXBPciAvLyDlrZDnuqfpk77lm57niLbnuqfliIbnu4Rvcu+8jOWbnua6r+eahOS9v+eUqOS9v+eUqFxuICAgIH1cblxuICAgIC8vIOaPkuWFpeaWsOeahG9y5YiG5pSvXG4gICAgcHV0T3IgKCkge1xuICAgICAgICB0aGlzLl90ZW1wQW5kID0gbnVsbFxuICAgIH1cblxuICAgIC8vIOWujOaIkOiKgueCueWIm+W7ulxuICAgIHB1dEVuZCAoKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl90ZW1wT3JcbiAgICAgICAgZGVsZXRlIHRoaXMuX3RlbXBBbmRcbiAgICB9XG5cbiAgICBzY2FuIChwYXJlbnRSdW50aW1lKSB7XG4gICAgICAgIGNvbnN0IG9yQ2hpbGQgPSB0aGlzLl9vckZpcnN0Q2hpbGRcbiAgICAgICAgY29uc3QgYW5kQ2hpbGQgPSBvckNoaWxkLmFuZEZpcnN0Q2hpbGRcbiAgICAgICAgYW5kQ2hpbGQuc2NhbihwYXJlbnRSdW50aW1lLmNyZWF0ZUNoaWxkKHRoaXMsIHsgb3JDaGlsZCwgYW5kQ2hpbGQsIHRlbXBDaGlsZHM6IFtdIH0pKVxuICAgIH1cblxuICAgIG1hdGNoU3VjY2VzcyAoY2hpbGRSdW50aW1lKSB7XG4gICAgICAgIC8vIChBezN9IEJ7MSwyfSB8IEF7Mn0gQnsyfSlcbiAgICAgICAgLy8g5a2Q6aG55omr5o+P5oiQ5Yqf77yM5YiZ5Yik5pat5piv5ZCm5piv5pyA5ZCO6aG577yM5piv5YiZ6L+b6KGM5LiL5LiA5Liq5YiG6YeP5omr5o+P77yM5ZCm5YiZ57un57ut5LiL5LiA5Liq5a2Q6aG55omr5o+PXG5cbiAgICAgICAgY29uc3QgdGhpc1J1bnRpbWUgPSBjaGlsZFJ1bnRpbWUucGFyZW50XG4gICAgICAgIGxldCB7IGFuZENoaWxkIH0gPSB0aGlzUnVudGltZVxuXG4gICAgICAgIGlmICh0aGlzUnVudGltZS50ZW1wTGFzdENoaWxkKSB7XG4gICAgICAgICAgICB0aGlzUnVudGltZS50ZW1wTGFzdENoaWxkLm5leHRTaWJsaW5nID0gY2hpbGRSdW50aW1lXG4gICAgICAgICAgICBjaGlsZFJ1bnRpbWUucHJldmlvdXNTaWJsaW5nID0gdGhpc1J1bnRpbWUudGVtcExhc3RDaGlsZFxuICAgICAgICAgICAgdGhpc1J1bnRpbWUudGVtcExhc3RDaGlsZCA9IGNoaWxkUnVudGltZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpc1J1bnRpbWUudGVtcExhc3RDaGlsZCA9IHRoaXNSdW50aW1lLnRlbXBGaXJzdENoaWxkID0gY2hpbGRSdW50aW1lXG4gICAgICAgIH1cblxuICAgICAgICAvLyDlrZjlnKjkuIvkuIDkuKrlrZDpoblcbiAgICAgICAgaWYgKGFuZENoaWxkLm5leHRTaWJsaW5nKSB7XG4gICAgICAgICAgICBhbmRDaGlsZCA9IHRoaXNSdW50aW1lLmFuZENoaWxkID0gYW5kQ2hpbGQubmV4dFNpYmxpbmdcbiAgICAgICAgICAgIGFuZENoaWxkLnNjYW4odGhpc1J1bnRpbWUpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzUnVudGltZS50ZW1wQ2hpbGRzLnB1c2goeyBmaXJzdENoaWxkOiB0aGlzUnVudGltZS50ZW1wRmlyc3RDaGlsZCwgbGFzdENoaWxkOiB0aGlzUnVudGltZS50ZW1wTGFzdENoaWxkIH0pXG4gICAgICAgICAgICB0aGlzUnVudGltZS50ZW1wRmlyc3RDaGlsZCA9IHRoaXNSdW50aW1lLnRlbXBMYXN0Q2hpbGQgPSBudWxsXG4gICAgICAgICAgICB0aGlzUnVudGltZS5tYXRjaHMrK1xuICAgICAgICAgICAgaWYgKHRoaXNSdW50aW1lLm1hdGNocyA8IHRoaXMubikge1xuICAgICAgICAgICAgICAgIC8vIOe7p+e7reS4i+S4gOS4quWIhumHj+eahOaJq+aPj1xuICAgICAgICAgICAgICAgIHRoaXNSdW50aW1lLm9yQ2hpbGQgPSB0aGlzLl9vckZpcnN0Q2hpbGRcbiAgICAgICAgICAgICAgICB0aGlzUnVudGltZS5hbmRDaGlsZCA9IHRoaXNSdW50aW1lLm9yQ2hpbGQuYW5kRmlyc3RDaGlsZFxuICAgICAgICAgICAgICAgIHRoaXNSdW50aW1lLmFuZENoaWxkLnNjYW4odGhpc1J1bnRpbWUpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIOW3sue7j+WujOaIkOS6huaJgOacieeahOaJq+aPj1xuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUodGhpc1J1bnRpbWUpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtYXRjaEZhaWx1cmUgKGNoaWxkUnVudGltZSwgZXJyb3IpIHtcbiAgICAgICAgY29uc3QgdGhpc1J1bnRpbWUgPSBjaGlsZFJ1bnRpbWUucGFyZW50XG5cbiAgICAgICAgLy8g5Zue6YCA5b2T5YmN5omr5o+P57uT5p6cXG4gICAgICAgIGlmICh0aGlzUnVudGltZS50ZW1wRmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgdGhpc1J1bnRpbWUuc3IubW92ZVRvKHRoaXNSdW50aW1lLnRlbXBGaXJzdENoaWxkLmJJbmRleClcbiAgICAgICAgICAgIHRoaXNSdW50aW1lLnRlbXBGaXJzdENoaWxkID0gdGhpc1J1bnRpbWUudGVtcExhc3RDaGlsZCA9IG51bGxcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOi/m+WFpeaIluWIhuaUr+i/m+ihjOaJq+aPj1xuICAgICAgICBpZiAodGhpc1J1bnRpbWUub3JDaGlsZC5uZXh0U2libGluZykge1xuICAgICAgICAgICAgdGhpc1J1bnRpbWUub3JDaGlsZCA9IHRoaXNSdW50aW1lLm9yQ2hpbGQubmV4dFNpYmxpbmdcbiAgICAgICAgICAgIHRoaXNSdW50aW1lLmFuZENoaWxkID0gdGhpc1J1bnRpbWUub3JDaGlsZC5hbmRGaXJzdENoaWxkXG4gICAgICAgICAgICB0aGlzUnVudGltZS5hbmRDaGlsZC5zY2FuKHRoaXNSdW50aW1lKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXNSdW50aW1lLm1hdGNocyA8IHRoaXMubSkge1xuICAgICAgICAgICAgICAgIHRoaXNSdW50aW1lLnJlamVjdChlcnJvcilcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSh0aGlzUnVudGltZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9yZXNvbHZlICh0aGlzUnVudGltZSkge1xuICAgICAgICBsZXQgbm93TGFzdENoaWxkXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpc1J1bnRpbWUudGVtcENoaWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgeyBmaXJzdENoaWxkLCBsYXN0Q2hpbGQgfSA9IHRoaXNSdW50aW1lLnRlbXBDaGlsZHNbaV1cbiAgICAgICAgICAgIGlmIChub3dMYXN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICBub3dMYXN0Q2hpbGQubmV4dFNpYmxpbmcgPSBmaXJzdENoaWxkXG4gICAgICAgICAgICAgICAgbm93TGFzdENoaWxkID0gdGhpc1J1bnRpbWUubGFzdENoaWxkID0gbGFzdENoaWxkXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXNSdW50aW1lLmZpcnN0Q2hpbGQgPSBmaXJzdENoaWxkXG4gICAgICAgICAgICAgICAgbm93TGFzdENoaWxkID0gdGhpc1J1bnRpbWUubGFzdENoaWxkID0gbGFzdENoaWxkXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHRoaXNSdW50aW1lLnRlbXBDaGlsZHNcbiAgICAgICAgZGVsZXRlIHRoaXNSdW50aW1lLnRlbXBGaXJzdENoaWxkXG4gICAgICAgIGRlbGV0ZSB0aGlzUnVudGltZS50ZW1wTGFzdENoaWxkXG4gICAgICAgIHRoaXNSdW50aW1lLnJlc29sdmUoKVxuICAgIH1cbn1cblxuY2xhc3MgTGlua01hdGNoZXIgZXh0ZW5kcyBNYXRjaGVyIHtcbiAgICBjb25zdHJ1Y3RvciAoaWQpIHtcbiAgICAgICAgc3VwZXIoKVxuICAgICAgICB0aGlzLl9pZCA9IGlkXG4gICAgfVxuXG4gICAgc2NhbiAocGFyZW50UnVudGltZSkge1xuICAgICAgICBtYXRjaGVyc1t0aGlzLl9pZF0uc2NhbihwYXJlbnRSdW50aW1lLmNyZWF0ZUNoaWxkKHRoaXMpKVxuICAgIH1cblxuICAgIG1hdGNoU3VjY2VzcyAoY2hpbGRSdW50aW1lKSB7XG4gICAgICAgIGNvbnN0IHRoaXNSdW50aW1lID0gY2hpbGRSdW50aW1lLnBhcmVudFxuXG4gICAgICAgIHRoaXNSdW50aW1lLmFwcGVuZENoaWxkKGNoaWxkUnVudGltZSlcbiAgICAgICAgdGhpc1J1bnRpbWUubWF0Y2hzKytcblxuICAgICAgICBpZiAodGhpc1J1bnRpbWUubWF0Y2hzIDwgdGhpcy5uKSB7XG4gICAgICAgICAgICAvLyDnu6fnu63kuIvkuIDkuKrliIbph4/nmoTmiavmj49cbiAgICAgICAgICAgIG1hdGNoZXJzW3RoaXMuX2lkXS5zY2FuKHRoaXNSdW50aW1lKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8g5a6M5oiQ5omr5o+PXG4gICAgICAgICAgICB0aGlzUnVudGltZS5yZXNvbHZlKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1hdGNoRmFpbHVyZSAoY2hpbGRSdW50aW1lLCBlcnJvcikge1xuICAgICAgICBjb25zdCB0aGlzUnVudGltZSA9IGNoaWxkUnVudGltZS5wYXJlbnRcblxuICAgICAgICBpZiAodGhpc1J1bnRpbWUubWF0Y2hzIDwgdGhpcy5tKSB7XG4gICAgICAgICAgICAvLyDlvZPliY3lv4XpgInpobnljLnphY3kuI3otrPvvIzliJnljLnphY3lpLHotKVcbiAgICAgICAgICAgIHRoaXNSdW50aW1lLnJlamVjdChlcnJvcilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXNSdW50aW1lLnJlc29sdmUoKVxuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBSdWxlTWF0Y2hlciBleHRlbmRzIE1hdGNoZXIge1xuICAgIGNvbnN0cnVjdG9yIChpZCwgbWF0Y2gpIHtcbiAgICAgICAgc3VwZXIoKVxuICAgICAgICB0aGlzLl9pZCA9IGlkXG4gICAgICAgIHRoaXMuX21hdGNoID0gbWF0Y2hcbiAgICAgICAgbWF0Y2hlcnNbaWRdID0gdGhpc1xuICAgIH1cblxuICAgIHNjYW4gKHBhcmVudFJ1bnRpbWUpIHtcbiAgICAgICAgY29uc3QgeyBzciB9ID0gcGFyZW50UnVudGltZVxuICAgICAgICBjb25zdCBiSW5kZXggPSBzci5jaEluZGV4XG4gICAgICAgIGNvbnN0IHRoaXNSdW50aW1lID0gcGFyZW50UnVudGltZS5jcmVhdGVDaGlsZCh0aGlzKVxuICAgICAgICBzci5jcmVhdGVSZWNvcmQoKVxuICAgICAgICBpZiAodGhpcy5fbWF0Y2goc3IpKSB7XG4gICAgICAgICAgICBzci5yZW1vdmVSZWNvcmQoKVxuICAgICAgICAgICAgdGhpc1J1bnRpbWUucmVzb2x2ZShiSW5kZXgsIHNyLmNoSW5kZXgpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzci5yb2xsYmFjaygpXG4gICAgICAgICAgICB0aGlzUnVudGltZS5yZWplY3QoKVxuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgU3RyaW5nTWF0Y2hlciBleHRlbmRzIE1hdGNoZXIge1xuICAgIGNvbnN0cnVjdG9yIChzb3VyY2UpIHtcbiAgICAgICAgc3VwZXIoKVxuICAgICAgICB0aGlzLl9zb3VyY2UgPSBzb3VyY2VcbiAgICB9XG5cbiAgICBzY2FuIChwYXJlbnRSdW50aW1lKSB7XG4gICAgICAgIGNvbnN0IHsgc3IgfSA9IHBhcmVudFJ1bnRpbWVcbiAgICAgICAgY29uc3QgdGhpc1J1bnRpbWUgPSBwYXJlbnRSdW50aW1lLmNyZWF0ZUNoaWxkKHRoaXMpXG4gICAgICAgIGNvbnN0IGJJbmRleCA9IHNyLmNoSW5kZXhcbiAgICAgICAgY29uc3QgeyBtLCBuIH0gPSB0aGlzXG5cbiAgICAgICAgbGV0IGlzU3VjY2VzcyA9IHRydWVcblxuICAgICAgICAvLyDlv4XpgInpm4ZcbiAgICAgICAgc3IuY3JlYXRlUmVjb3JkKClcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fbWF0Y2goc3IpKSB7XG4gICAgICAgICAgICAgICAgaXNTdWNjZXNzID0gZmFsc2VcbiAgICAgICAgICAgICAgICBzci5yb2xsYmFjaygpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc1N1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHNyLnJlbW92ZVJlY29yZCgpXG4gICAgICAgICAgICAvLyDlj6/pgInpm4ZcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBtOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgc3IuY3JlYXRlUmVjb3JkKClcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX21hdGNoKHNyKSkge1xuICAgICAgICAgICAgICAgICAgICBzci5yb2xsYmFjaygpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3IucmVtb3ZlUmVjb3JkKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzUnVudGltZS5yZXNvbHZlKGJJbmRleCwgc3IuY2hJbmRleClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXNSdW50aW1lLnJlamVjdCgpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbWF0Y2ggKHNyKSB7XG4gICAgICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuX3NvdXJjZVxuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGcgPSBzb3VyY2UubGVuZ3RoOyBpIDwgbGc7IGkrKykge1xuICAgICAgICAgICAgaWYgKHNyLnJlYWQoKSAhPT0gc291cmNlW2ldKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIFJvb3RNYXRjaGVyLCBSdWxlTWF0Y2hlciwgSG9va01hdGNoZXIsXG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib2/Compiler/Matchers.js\n");

/***/ }),

/***/ "./lib2/Compiler/Runtime.js":
/*!**********************************!*\
  !*** ./lib2/Compiler/Runtime.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar logger = {\n  create: !true,\n  resolve: true,\n  reject: true,\n  matchSuccess: true\n};\nvar PID = 0;\n\nvar Runtime =\n/*#__PURE__*/\nfunction () {\n  function Runtime(parent, matcher, extral) {\n    _classCallCheck(this, Runtime);\n\n    this.PID = PID++;\n    this.parent = parent;\n    this.matcher = matcher;\n    this.matchs = 0; // 成功匹配次数\n\n    if (parent) {\n      this.sr = parent.sr;\n    }\n\n    if (extral) {\n      Object.assign(this, extral);\n    }\n\n    logger.create && console.warn(\"\".concat(matcher.constructor.name, \" Runtime created\"), this);\n  }\n\n  _createClass(Runtime, [{\n    key: \"createChild\",\n    value: function createChild(matcher, extral) {\n      return new Runtime(this, matcher, extral);\n    }\n  }, {\n    key: \"appendChild\",\n    value: function appendChild(childRuntime) {\n      if (this.lastChild) {\n        this.lastChild.nextSibling = childRuntime;\n        childRuntime.previousSibling = this.lastChild;\n        this.lastChild = childRuntime;\n      } else {\n        this.firstChild = this.lastChild = childRuntime;\n      }\n    } // 匹配器完成扫描\n\n  }, {\n    key: \"resolve\",\n    value: function resolve(bIndex, eIndex) {\n      if (eIndex != null) {\n        this.bIndex = bIndex;\n        this.eIndex = eIndex;\n      } else if (this.firstChild) {\n        this.bIndex = this.firstChild.bIndex;\n        this.eIndex = this.lastChild.eIndex;\n      } else {\n        // 0次匹配的节点\n        this.bIndex = this.sr.chIndex;\n        this.eIndex = this.sr.chIndex;\n      }\n\n      logger.resolve && console.warn(\"\".concat(this.matcher.constructor.name, \" Runtime resolve\"), this.sr.text(this.bIndex, this.eIndex)); // 触发父级子项扫描成功\n\n      this.parent.matcher.matchSuccess(this);\n    }\n  }, {\n    key: \"reject\",\n    value: function reject(error) {\n      if (error) {\n        error.stack.push(this);\n      } else {\n        error = {\n          stack: [this],\n          message: '匹配错误222',\n          bIndex: this.sr.chIndex\n        };\n      }\n\n      this.parent.matcher.matchFailure(this, error);\n    }\n  }]);\n\n  return Runtime;\n}();\n\nmodule.exports = Runtime;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIyL0NvbXBpbGVyL1J1bnRpbWUuanM/YTIzYyJdLCJuYW1lcyI6WyJsb2dnZXIiLCJjcmVhdGUiLCJyZXNvbHZlIiwicmVqZWN0IiwibWF0Y2hTdWNjZXNzIiwiUElEIiwiUnVudGltZSIsInBhcmVudCIsIm1hdGNoZXIiLCJleHRyYWwiLCJtYXRjaHMiLCJzciIsIk9iamVjdCIsImFzc2lnbiIsImNvbnNvbGUiLCJ3YXJuIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiY2hpbGRSdW50aW1lIiwibGFzdENoaWxkIiwibmV4dFNpYmxpbmciLCJwcmV2aW91c1NpYmxpbmciLCJmaXJzdENoaWxkIiwiYkluZGV4IiwiZUluZGV4IiwiY2hJbmRleCIsInRleHQiLCJlcnJvciIsInN0YWNrIiwicHVzaCIsIm1lc3NhZ2UiLCJtYXRjaEZhaWx1cmUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFNQSxNQUFNLEdBQUc7QUFDWEMsUUFBTSxFQUFFLENBQUMsSUFERTtBQUVYQyxTQUFPLEVBQUUsSUFGRTtBQUdYQyxRQUFNLEVBQUUsSUFIRztBQUlYQyxjQUFZLEVBQUU7QUFKSCxDQUFmO0FBT0EsSUFBSUMsR0FBRyxHQUFHLENBQVY7O0lBQ01DLE87OztBQUNGLG1CQUFhQyxNQUFiLEVBQXFCQyxPQUFyQixFQUE4QkMsTUFBOUIsRUFBc0M7QUFBQTs7QUFDbEMsU0FBS0osR0FBTCxHQUFXQSxHQUFHLEVBQWQ7QUFDQSxTQUFLRSxNQUFMLEdBQWNBLE1BQWQ7QUFDQSxTQUFLQyxPQUFMLEdBQWVBLE9BQWY7QUFDQSxTQUFLRSxNQUFMLEdBQWMsQ0FBZCxDQUprQyxDQUlsQjs7QUFFaEIsUUFBSUgsTUFBSixFQUFZO0FBQ1IsV0FBS0ksRUFBTCxHQUFVSixNQUFNLENBQUNJLEVBQWpCO0FBQ0g7O0FBRUQsUUFBSUYsTUFBSixFQUFZO0FBQ1JHLFlBQU0sQ0FBQ0MsTUFBUCxDQUFjLElBQWQsRUFBb0JKLE1BQXBCO0FBQ0g7O0FBRURULFVBQU0sQ0FBQ0MsTUFBUCxJQUFpQmEsT0FBTyxDQUFDQyxJQUFSLFdBQWdCUCxPQUFPLENBQUNRLFdBQVIsQ0FBb0JDLElBQXBDLHVCQUE0RCxJQUE1RCxDQUFqQjtBQUNIOzs7O2dDQUVZVCxPLEVBQVNDLE0sRUFBUTtBQUMxQixhQUFPLElBQUlILE9BQUosQ0FBWSxJQUFaLEVBQWtCRSxPQUFsQixFQUEyQkMsTUFBM0IsQ0FBUDtBQUNIOzs7Z0NBRVlTLFksRUFBYztBQUN2QixVQUFJLEtBQUtDLFNBQVQsRUFBb0I7QUFDaEIsYUFBS0EsU0FBTCxDQUFlQyxXQUFmLEdBQTZCRixZQUE3QjtBQUNBQSxvQkFBWSxDQUFDRyxlQUFiLEdBQStCLEtBQUtGLFNBQXBDO0FBQ0EsYUFBS0EsU0FBTCxHQUFpQkQsWUFBakI7QUFDSCxPQUpELE1BSU87QUFDSCxhQUFLSSxVQUFMLEdBQWtCLEtBQUtILFNBQUwsR0FBaUJELFlBQW5DO0FBQ0g7QUFDSixLLENBRUQ7Ozs7NEJBQ1NLLE0sRUFBUUMsTSxFQUFRO0FBQ3JCLFVBQUlBLE1BQU0sSUFBSSxJQUFkLEVBQW9CO0FBQ2hCLGFBQUtELE1BQUwsR0FBY0EsTUFBZDtBQUNBLGFBQUtDLE1BQUwsR0FBY0EsTUFBZDtBQUNILE9BSEQsTUFHTyxJQUFJLEtBQUtGLFVBQVQsRUFBcUI7QUFDeEIsYUFBS0MsTUFBTCxHQUFjLEtBQUtELFVBQUwsQ0FBZ0JDLE1BQTlCO0FBQ0EsYUFBS0MsTUFBTCxHQUFjLEtBQUtMLFNBQUwsQ0FBZUssTUFBN0I7QUFDSCxPQUhNLE1BR0E7QUFDSDtBQUNBLGFBQUtELE1BQUwsR0FBYyxLQUFLWixFQUFMLENBQVFjLE9BQXRCO0FBQ0EsYUFBS0QsTUFBTCxHQUFjLEtBQUtiLEVBQUwsQ0FBUWMsT0FBdEI7QUFDSDs7QUFDRHpCLFlBQU0sQ0FBQ0UsT0FBUCxJQUFrQlksT0FBTyxDQUFDQyxJQUFSLFdBQWdCLEtBQUtQLE9BQUwsQ0FBYVEsV0FBYixDQUF5QkMsSUFBekMsdUJBQWlFLEtBQUtOLEVBQUwsQ0FBUWUsSUFBUixDQUFhLEtBQUtILE1BQWxCLEVBQTBCLEtBQUtDLE1BQS9CLENBQWpFLENBQWxCLENBWnFCLENBY3JCOztBQUNBLFdBQUtqQixNQUFMLENBQVlDLE9BQVosQ0FBb0JKLFlBQXBCLENBQWlDLElBQWpDO0FBQ0g7OzsyQkFFT3VCLEssRUFBTztBQUNYLFVBQUlBLEtBQUosRUFBVztBQUNQQSxhQUFLLENBQUNDLEtBQU4sQ0FBWUMsSUFBWixDQUFpQixJQUFqQjtBQUNILE9BRkQsTUFFTztBQUNIRixhQUFLLEdBQUc7QUFBRUMsZUFBSyxFQUFFLENBQUUsSUFBRixDQUFUO0FBQW1CRSxpQkFBTyxFQUFFLFNBQTVCO0FBQXVDUCxnQkFBTSxFQUFFLEtBQUtaLEVBQUwsQ0FBUWM7QUFBdkQsU0FBUjtBQUNIOztBQUVELFdBQUtsQixNQUFMLENBQVlDLE9BQVosQ0FBb0J1QixZQUFwQixDQUFpQyxJQUFqQyxFQUF1Q0osS0FBdkM7QUFDSDs7Ozs7O0FBR0xLLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjNCLE9BQWpCIiwiZmlsZSI6Ii4vbGliMi9Db21waWxlci9SdW50aW1lLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbG9nZ2VyID0ge1xuICAgIGNyZWF0ZTogIXRydWUsXG4gICAgcmVzb2x2ZTogdHJ1ZSxcbiAgICByZWplY3Q6IHRydWUsXG4gICAgbWF0Y2hTdWNjZXNzOiB0cnVlLFxufVxuXG5sZXQgUElEID0gMFxuY2xhc3MgUnVudGltZSB7XG4gICAgY29uc3RydWN0b3IgKHBhcmVudCwgbWF0Y2hlciwgZXh0cmFsKSB7XG4gICAgICAgIHRoaXMuUElEID0gUElEKytcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnRcbiAgICAgICAgdGhpcy5tYXRjaGVyID0gbWF0Y2hlclxuICAgICAgICB0aGlzLm1hdGNocyA9IDAgLy8g5oiQ5Yqf5Yy56YWN5qyh5pWwXG5cbiAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5zciA9IHBhcmVudC5zclxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV4dHJhbCkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBleHRyYWwpXG4gICAgICAgIH1cblxuICAgICAgICBsb2dnZXIuY3JlYXRlICYmIGNvbnNvbGUud2FybihgJHttYXRjaGVyLmNvbnN0cnVjdG9yLm5hbWV9IFJ1bnRpbWUgY3JlYXRlZGAsIHRoaXMpXG4gICAgfVxuXG4gICAgY3JlYXRlQ2hpbGQgKG1hdGNoZXIsIGV4dHJhbCkge1xuICAgICAgICByZXR1cm4gbmV3IFJ1bnRpbWUodGhpcywgbWF0Y2hlciwgZXh0cmFsKVxuICAgIH1cblxuICAgIGFwcGVuZENoaWxkIChjaGlsZFJ1bnRpbWUpIHtcbiAgICAgICAgaWYgKHRoaXMubGFzdENoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RDaGlsZC5uZXh0U2libGluZyA9IGNoaWxkUnVudGltZVxuICAgICAgICAgICAgY2hpbGRSdW50aW1lLnByZXZpb3VzU2libGluZyA9IHRoaXMubGFzdENoaWxkXG4gICAgICAgICAgICB0aGlzLmxhc3RDaGlsZCA9IGNoaWxkUnVudGltZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5maXJzdENoaWxkID0gdGhpcy5sYXN0Q2hpbGQgPSBjaGlsZFJ1bnRpbWVcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIOWMuemFjeWZqOWujOaIkOaJq+aPj1xuICAgIHJlc29sdmUgKGJJbmRleCwgZUluZGV4KSB7XG4gICAgICAgIGlmIChlSW5kZXggIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5iSW5kZXggPSBiSW5kZXhcbiAgICAgICAgICAgIHRoaXMuZUluZGV4ID0gZUluZGV4XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLmJJbmRleCA9IHRoaXMuZmlyc3RDaGlsZC5iSW5kZXhcbiAgICAgICAgICAgIHRoaXMuZUluZGV4ID0gdGhpcy5sYXN0Q2hpbGQuZUluZGV4XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAw5qyh5Yy56YWN55qE6IqC54K5XG4gICAgICAgICAgICB0aGlzLmJJbmRleCA9IHRoaXMuc3IuY2hJbmRleFxuICAgICAgICAgICAgdGhpcy5lSW5kZXggPSB0aGlzLnNyLmNoSW5kZXhcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIucmVzb2x2ZSAmJiBjb25zb2xlLndhcm4oYCR7dGhpcy5tYXRjaGVyLmNvbnN0cnVjdG9yLm5hbWV9IFJ1bnRpbWUgcmVzb2x2ZWAsIHRoaXMuc3IudGV4dCh0aGlzLmJJbmRleCwgdGhpcy5lSW5kZXgpKVxuXG4gICAgICAgIC8vIOinpuWPkeeItue6p+WtkOmhueaJq+aPj+aIkOWKn1xuICAgICAgICB0aGlzLnBhcmVudC5tYXRjaGVyLm1hdGNoU3VjY2Vzcyh0aGlzKVxuICAgIH1cblxuICAgIHJlamVjdCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICBlcnJvci5zdGFjay5wdXNoKHRoaXMpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlcnJvciA9IHsgc3RhY2s6IFsgdGhpcyBdLCBtZXNzYWdlOiAn5Yy56YWN6ZSZ6K+vMjIyJywgYkluZGV4OiB0aGlzLnNyLmNoSW5kZXggfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wYXJlbnQubWF0Y2hlci5tYXRjaEZhaWx1cmUodGhpcywgZXJyb3IpXG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJ1bnRpbWVcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib2/Compiler/Runtime.js\n");

/***/ }),

/***/ "./lib2/Compiler/index.js":
/*!********************************!*\
  !*** ./lib2/Compiler/index.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar _require = __webpack_require__(/*! ./Matchers */ \"./lib2/Compiler/Matchers.js\"),\n    RuleMatcher = _require.RuleMatcher,\n    HookMatcher = _require.HookMatcher;\n\nvar scanner = __webpack_require__(/*! ./scanner */ \"./lib2/Compiler/scanner.js\");\n\nvar Compiler =\n/*#__PURE__*/\nfunction () {\n  function Compiler(_ref) {\n    var matchers = _ref.matchers;\n\n    _classCallCheck(this, Compiler);\n\n    this._matchers = {};\n\n    this._initSystemMatchers();\n\n    this._initCustomMatchers(matchers);\n  }\n\n  _createClass(Compiler, [{\n    key: \"_initSystemMatchers\",\n    value: function _initSystemMatchers() {\n      var matchers = this._matchers;\n      [['w', function (sr) {\n        return /\\w/.test(sr.read());\n      }], ['W', function (sr) {\n        return /\\W/.test(sr.read());\n      }], ['d', function (sr) {\n        return /\\d/.test(sr.read());\n      }], ['D', function (sr) {\n        return /\\D/.test(sr.read());\n      }], ['s', function (sr) {\n        return /\\s/.test(sr.read());\n      }], ['S', function (sr) {\n        return /\\S/.test(sr.read());\n      }], ['eol', function (sr) {\n        return sr.read() === sr.EOL;\n      }], ['.', function (sr) {\n        return sr.read() !== sr.EOL;\n      }]].forEach(function (_ref2) {\n        var _ref3 = _slicedToArray(_ref2, 2),\n            id = _ref3[0],\n            pattern = _ref3[1];\n\n        matchers[id] = new RuleMatcher(id, pattern);\n      });\n    }\n  }, {\n    key: \"_initCustomMatchers\",\n    value: function _initCustomMatchers(matcherOptions) {\n      var matchers = this._matchers;\n\n      for (var id in matcherOptions) {\n        matchers[id] = new HookMatcher(id, matcherOptions[id], this);\n      }\n    }\n  }, {\n    key: \"run\",\n    value: function run(code) {\n      var id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'main';\n      var sr = scanner(code);\n      var mainMatcher = this._matchers[id];\n      var maxNum = 0;\n\n      try {\n        while (sr.notEOF() && maxNum++ < 3) {\n          sr.use(mainMatcher);\n        }\n\n        return sr.tree();\n      } catch (err) {\n        return sr.error(err);\n      }\n    }\n  }, {\n    key: \"compile\",\n    value: function compile(code) {\n      console.warn(\"input compile code is \\u3010\".concat(code, \"\\u3011\"), this);\n    }\n  }]);\n\n  return Compiler;\n}();\n\nmodule.exports = Compiler;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIyL0NvbXBpbGVyL2luZGV4LmpzPzFkM2MiXSwibmFtZXMiOlsicmVxdWlyZSIsIlJ1bGVNYXRjaGVyIiwiSG9va01hdGNoZXIiLCJzY2FubmVyIiwiQ29tcGlsZXIiLCJtYXRjaGVycyIsIl9tYXRjaGVycyIsIl9pbml0U3lzdGVtTWF0Y2hlcnMiLCJfaW5pdEN1c3RvbU1hdGNoZXJzIiwic3IiLCJ0ZXN0IiwicmVhZCIsIkVPTCIsImZvckVhY2giLCJpZCIsInBhdHRlcm4iLCJtYXRjaGVyT3B0aW9ucyIsImNvZGUiLCJtYWluTWF0Y2hlciIsIm1heE51bSIsIm5vdEVPRiIsInVzZSIsInRyZWUiLCJlcnIiLCJlcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7ZUFDcUNBLG1CQUFPLENBQUMsK0NBQUQsQztJQUFwQ0MsVyxZQUFBQSxXO0lBQWFDLFcsWUFBQUEsVzs7QUFDckIsSUFBTUMsT0FBTyxHQUFHSCxtQkFBTyxDQUFDLDZDQUFELENBQXZCOztJQUVNSSxROzs7QUFDRiwwQkFBMkI7QUFBQSxRQUFaQyxRQUFZLFFBQVpBLFFBQVk7O0FBQUE7O0FBQ3ZCLFNBQUtDLFNBQUwsR0FBaUIsRUFBakI7O0FBQ0EsU0FBS0MsbUJBQUw7O0FBQ0EsU0FBS0MsbUJBQUwsQ0FBeUJILFFBQXpCO0FBQ0g7Ozs7MENBR3NCO0FBQ25CLFVBQU1BLFFBQVEsR0FBRyxLQUFLQyxTQUF0QjtBQUNDLE9BQ0csQ0FBRSxHQUFGLEVBQU8sVUFBQUcsRUFBRTtBQUFBLGVBQUksS0FBS0MsSUFBTCxDQUFVRCxFQUFFLENBQUNFLElBQUgsRUFBVixDQUFKO0FBQUEsT0FBVCxDQURILEVBRUcsQ0FBRSxHQUFGLEVBQU8sVUFBQUYsRUFBRTtBQUFBLGVBQUksS0FBS0MsSUFBTCxDQUFVRCxFQUFFLENBQUNFLElBQUgsRUFBVixDQUFKO0FBQUEsT0FBVCxDQUZILEVBR0csQ0FBRSxHQUFGLEVBQU8sVUFBQUYsRUFBRTtBQUFBLGVBQUksS0FBS0MsSUFBTCxDQUFVRCxFQUFFLENBQUNFLElBQUgsRUFBVixDQUFKO0FBQUEsT0FBVCxDQUhILEVBSUcsQ0FBRSxHQUFGLEVBQU8sVUFBQUYsRUFBRTtBQUFBLGVBQUksS0FBS0MsSUFBTCxDQUFVRCxFQUFFLENBQUNFLElBQUgsRUFBVixDQUFKO0FBQUEsT0FBVCxDQUpILEVBS0csQ0FBRSxHQUFGLEVBQU8sVUFBQUYsRUFBRTtBQUFBLGVBQUksS0FBS0MsSUFBTCxDQUFVRCxFQUFFLENBQUNFLElBQUgsRUFBVixDQUFKO0FBQUEsT0FBVCxDQUxILEVBTUcsQ0FBRSxHQUFGLEVBQU8sVUFBQUYsRUFBRTtBQUFBLGVBQUksS0FBS0MsSUFBTCxDQUFVRCxFQUFFLENBQUNFLElBQUgsRUFBVixDQUFKO0FBQUEsT0FBVCxDQU5ILEVBT0csQ0FBRSxLQUFGLEVBQVMsVUFBQUYsRUFBRTtBQUFBLGVBQUlBLEVBQUUsQ0FBQ0UsSUFBSCxPQUFjRixFQUFFLENBQUNHLEdBQXJCO0FBQUEsT0FBWCxDQVBILEVBUUcsQ0FBRSxHQUFGLEVBQU8sVUFBQUgsRUFBRTtBQUFBLGVBQUlBLEVBQUUsQ0FBQ0UsSUFBSCxPQUFjRixFQUFFLENBQUNHLEdBQXJCO0FBQUEsT0FBVCxDQVJILEVBU0NDLE9BVEQsQ0FTUyxpQkFBcUI7QUFBQTtBQUFBLFlBQWxCQyxFQUFrQjtBQUFBLFlBQWRDLE9BQWM7O0FBQzNCVixnQkFBUSxDQUFDUyxFQUFELENBQVIsR0FBZSxJQUFJYixXQUFKLENBQWdCYSxFQUFoQixFQUFvQkMsT0FBcEIsQ0FBZjtBQUNILE9BWEE7QUFZSjs7O3dDQUVvQkMsYyxFQUFnQjtBQUNqQyxVQUFNWCxRQUFRLEdBQUcsS0FBS0MsU0FBdEI7O0FBQ0EsV0FBSyxJQUFNUSxFQUFYLElBQWlCRSxjQUFqQixFQUFpQztBQUM3QlgsZ0JBQVEsQ0FBQ1MsRUFBRCxDQUFSLEdBQWUsSUFBSVosV0FBSixDQUFnQlksRUFBaEIsRUFBb0JFLGNBQWMsQ0FBQ0YsRUFBRCxDQUFsQyxFQUF3QyxJQUF4QyxDQUFmO0FBQ0g7QUFDSjs7O3dCQUdJRyxJLEVBQW1CO0FBQUEsVUFBYkgsRUFBYSx1RUFBUixNQUFRO0FBQ3BCLFVBQU1MLEVBQUUsR0FBR04sT0FBTyxDQUFDYyxJQUFELENBQWxCO0FBQ0EsVUFBTUMsV0FBVyxHQUFHLEtBQUtaLFNBQUwsQ0FBZVEsRUFBZixDQUFwQjtBQUNBLFVBQUlLLE1BQU0sR0FBRyxDQUFiOztBQUNBLFVBQUk7QUFDQSxlQUFPVixFQUFFLENBQUNXLE1BQUgsTUFBZUQsTUFBTSxLQUFLLENBQWpDLEVBQW9DO0FBQ2hDVixZQUFFLENBQUNZLEdBQUgsQ0FBT0gsV0FBUDtBQUNIOztBQUNELGVBQU9ULEVBQUUsQ0FBQ2EsSUFBSCxFQUFQO0FBQ0gsT0FMRCxDQUtFLE9BQU9DLEdBQVAsRUFBWTtBQUNWLGVBQU9kLEVBQUUsQ0FBQ2UsS0FBSCxDQUFTRCxHQUFULENBQVA7QUFDSDtBQUNKOzs7NEJBRVFOLEksRUFBTTtBQUNYUSxhQUFPLENBQUNDLElBQVIsdUNBQXVDVCxJQUF2QyxhQUFnRCxJQUFoRDtBQUNIOzs7Ozs7QUFJTFUsTUFBTSxDQUFDQyxPQUFQLEdBQWlCeEIsUUFBakIiLCJmaWxlIjoiLi9saWIyL0NvbXBpbGVyL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5jb25zdCB7IFJ1bGVNYXRjaGVyLCBIb29rTWF0Y2hlciB9ID0gcmVxdWlyZSgnLi9NYXRjaGVycycpXG5jb25zdCBzY2FubmVyID0gcmVxdWlyZSgnLi9zY2FubmVyJylcblxuY2xhc3MgQ29tcGlsZXIge1xuICAgIGNvbnN0cnVjdG9yICh7IG1hdGNoZXJzIH0pIHtcbiAgICAgICAgdGhpcy5fbWF0Y2hlcnMgPSB7fVxuICAgICAgICB0aGlzLl9pbml0U3lzdGVtTWF0Y2hlcnMoKVxuICAgICAgICB0aGlzLl9pbml0Q3VzdG9tTWF0Y2hlcnMobWF0Y2hlcnMpXG4gICAgfVxuXG5cbiAgICBfaW5pdFN5c3RlbU1hdGNoZXJzICgpIHtcbiAgICAgICAgY29uc3QgbWF0Y2hlcnMgPSB0aGlzLl9tYXRjaGVyc1xuICAgICAgICA7W1xuICAgICAgICAgICAgWyAndycsIHNyID0+IC9cXHcvLnRlc3Qoc3IucmVhZCgpKSBdLFxuICAgICAgICAgICAgWyAnVycsIHNyID0+IC9cXFcvLnRlc3Qoc3IucmVhZCgpKSBdLFxuICAgICAgICAgICAgWyAnZCcsIHNyID0+IC9cXGQvLnRlc3Qoc3IucmVhZCgpKSBdLFxuICAgICAgICAgICAgWyAnRCcsIHNyID0+IC9cXEQvLnRlc3Qoc3IucmVhZCgpKSBdLFxuICAgICAgICAgICAgWyAncycsIHNyID0+IC9cXHMvLnRlc3Qoc3IucmVhZCgpKSBdLFxuICAgICAgICAgICAgWyAnUycsIHNyID0+IC9cXFMvLnRlc3Qoc3IucmVhZCgpKSBdLFxuICAgICAgICAgICAgWyAnZW9sJywgc3IgPT4gc3IucmVhZCgpID09PSBzci5FT0wgXSxcbiAgICAgICAgICAgIFsgJy4nLCBzciA9PiBzci5yZWFkKCkgIT09IHNyLkVPTCBdLFxuICAgICAgICBdLmZvckVhY2goKFsgaWQsIHBhdHRlcm4gXSkgPT4ge1xuICAgICAgICAgICAgbWF0Y2hlcnNbaWRdID0gbmV3IFJ1bGVNYXRjaGVyKGlkLCBwYXR0ZXJuKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIF9pbml0Q3VzdG9tTWF0Y2hlcnMgKG1hdGNoZXJPcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoZXJzID0gdGhpcy5fbWF0Y2hlcnNcbiAgICAgICAgZm9yIChjb25zdCBpZCBpbiBtYXRjaGVyT3B0aW9ucykge1xuICAgICAgICAgICAgbWF0Y2hlcnNbaWRdID0gbmV3IEhvb2tNYXRjaGVyKGlkLCBtYXRjaGVyT3B0aW9uc1tpZF0sIHRoaXMpXG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHJ1biAoY29kZSwgaWQgPSAnbWFpbicpIHtcbiAgICAgICAgY29uc3Qgc3IgPSBzY2FubmVyKGNvZGUpXG4gICAgICAgIGNvbnN0IG1haW5NYXRjaGVyID0gdGhpcy5fbWF0Y2hlcnNbaWRdXG4gICAgICAgIGxldCBtYXhOdW0gPSAwXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB3aGlsZSAoc3Iubm90RU9GKCkgJiYgbWF4TnVtKysgPCAzKSB7XG4gICAgICAgICAgICAgICAgc3IudXNlKG1haW5NYXRjaGVyKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNyLnRyZWUoKVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiBzci5lcnJvcihlcnIpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb21waWxlIChjb2RlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgaW5wdXQgY29tcGlsZSBjb2RlIGlzIOOAkCR7Y29kZX3jgJFgLCB0aGlzKVxuICAgIH1cbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IENvbXBpbGVyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib2/Compiler/index.js\n");

/***/ }),

/***/ "./lib2/Compiler/scanner.js":
/*!**********************************!*\
  !*** ./lib2/Compiler/scanner.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nvar Runtime = __webpack_require__(/*! ./Runtime */ \"./lib2/Compiler/Runtime.js\");\n\nvar _require = __webpack_require__(/*! ./Matchers */ \"./lib2/Compiler/Matchers.js\"),\n    RootMatcher = _require.RootMatcher;\n\nmodule.exports = scanner;\n\nfunction scanner(code) {\n  var BOF = {},\n      EOF = {},\n      EOL = '\\n';\n  var chAlls = [],\n      chMaps = [];\n\n  (function () {\n    var lineNum = -1; // 原始行标，因为要对空行进行过滤\n\n    code.split(/\\r\\n?|\\r?\\n/).forEach(function (line) {\n      line = line.trim();\n      lineNum++;\n\n      if (!line) {\n        return;\n      }\n\n      var document;\n      line = line.replace(/\\/\\/(\\/)? .+/, function (matched, isDocument) {\n        if (isDocument) {\n          document = matched;\n        }\n\n        return '';\n      }).trim();\n\n      if (!line) {\n        return;\n      }\n\n      var bIndex = chAlls.length;\n      chAlls.push.apply(chAlls, _toConsumableArray(line.split('')).concat(['\\n']));\n      var eIndex = chAlls.length;\n      chMaps.push([lineNum, bIndex, eIndex, document]);\n    });\n  })();\n\n  var recordStack = [];\n  var sr = {\n    EOF: EOF,\n    EOL: EOL,\n    chIndex: 0,\n    chNow: BOF,\n    notEOF: function notEOF() {\n      return sr.chIndex < chAlls.length;\n    },\n    use: function use(matcher) {\n      console.info('use', sr.chIndex, chAlls);\n      matcher.scan(new Runtime(null, new RootMatcher(function (thisRuntime) {\n        console.info('resolve===', thisRuntime);\n      }, function (thisRuntime, error) {\n        console.info(thisRuntime, error);\n        throw Error('解析出错啦');\n      }), {\n        sr: sr\n      }));\n    },\n    read: function read() {\n      if (sr.chIndex === chAlls.length) {\n        // 处于文件结尾\n        throw Error('ch已经到达结尾');\n      }\n\n      return sr.chNow = chAlls[sr.chIndex++];\n    },\n    back: function back() {\n      return sr.chNow = chAlls[--sr.chIndex];\n    },\n    error: function error(err) {\n      console.error(err);\n    },\n    moveTo: function moveTo(chIndex) {\n      return sr.chNow = chAlls[sr.chIndex = chIndex];\n    },\n    createRecord: function createRecord() {\n      return recordStack.push(sr.chIndex);\n    },\n    removeRecord: function removeRecord() {\n      return recordStack.pop();\n    },\n    rollback: function rollback() {\n      return sr.moveTo(recordStack.pop());\n    },\n    text: function text(bIndex, eIndex) {\n      return chAlls.slice(bIndex, eIndex).join('');\n    }\n  };\n  return sr;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIyL0NvbXBpbGVyL3NjYW5uZXIuanM/MWRkYiJdLCJuYW1lcyI6WyJSdW50aW1lIiwicmVxdWlyZSIsIlJvb3RNYXRjaGVyIiwibW9kdWxlIiwiZXhwb3J0cyIsInNjYW5uZXIiLCJjb2RlIiwiQk9GIiwiRU9GIiwiRU9MIiwiY2hBbGxzIiwiY2hNYXBzIiwibGluZU51bSIsInNwbGl0IiwiZm9yRWFjaCIsImxpbmUiLCJ0cmltIiwiZG9jdW1lbnQiLCJyZXBsYWNlIiwibWF0Y2hlZCIsImlzRG9jdW1lbnQiLCJiSW5kZXgiLCJsZW5ndGgiLCJwdXNoIiwiZUluZGV4IiwicmVjb3JkU3RhY2siLCJzciIsImNoSW5kZXgiLCJjaE5vdyIsIm5vdEVPRiIsInVzZSIsIm1hdGNoZXIiLCJjb25zb2xlIiwiaW5mbyIsInNjYW4iLCJ0aGlzUnVudGltZSIsImVycm9yIiwiRXJyb3IiLCJyZWFkIiwiYmFjayIsImVyciIsIm1vdmVUbyIsImNyZWF0ZVJlY29yZCIsInJlbW92ZVJlY29yZCIsInBvcCIsInJvbGxiYWNrIiwidGV4dCIsInNsaWNlIiwiam9pbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxJQUFNQSxPQUFPLEdBQUdDLG1CQUFPLENBQUMsNkNBQUQsQ0FBdkI7O2VBQ3dCQSxtQkFBTyxDQUFDLCtDQUFELEM7SUFBdkJDLFcsWUFBQUEsVzs7QUFFUkMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCQyxPQUFqQjs7QUFFQSxTQUFTQSxPQUFULENBQWtCQyxJQUFsQixFQUF3QjtBQUFBLE1BQ1pDLEdBRFksR0FDUSxFQURSO0FBQUEsTUFDUEMsR0FETyxHQUNZLEVBRFo7QUFBQSxNQUNGQyxHQURFLEdBQ2dCLElBRGhCO0FBQUEsTUFFWkMsTUFGWSxHQUVTLEVBRlQ7QUFBQSxNQUVKQyxNQUZJLEdBRWEsRUFGYjs7QUFLbkIsR0FBQyxZQUFNO0FBQ0osUUFBSUMsT0FBTyxHQUFHLENBQUMsQ0FBZixDQURJLENBQ2E7O0FBQ2pCTixR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RTtBQUFBLGFBQU1qQixXQUFXLENBQUNGLElBQVosQ0FBaUJHLEVBQUUsQ0FBQ0MsT0FBcEIsQ0FBTjtBQUFBLEtBM0JQO0FBNEJQZ0IsZ0JBQVksRUFBRTtBQUFBLGFBQU1sQixXQUFXLENBQUNtQixHQUFaLEVBQU47QUFBQSxLQTVCUDtBQTZCUEMsWUFBUSxFQUFFO0FBQUEsYUFBTW5CLEVBQUUsQ0FBQ2UsTUFBSCxDQUFVaEIsV0FBVyxDQUFDbUIsR0FBWixFQUFWLENBQU47QUFBQSxLQTdCSDtBQThCUEUsUUFBSSxFQUFFLGNBQUN6QixNQUFELEVBQVNHLE1BQVQ7QUFBQSxhQUFvQmQsTUFBTSxDQUFDcUMsS0FBUCxDQUFhMUIsTUFBYixFQUFxQkcsTUFBckIsRUFBNkJ3QixJQUE3QixDQUFrQyxFQUFsQyxDQUFwQjtBQUFBO0FBOUJDLEdBQVg7QUFpQ0EsU0FBT3RCLEVBQVA7QUFDSCIsImZpbGUiOiIuL2xpYjIvQ29tcGlsZXIvc2Nhbm5lci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFJ1bnRpbWUgPSByZXF1aXJlKCcuL1J1bnRpbWUnKVxuY29uc3QgeyBSb290TWF0Y2hlciB9ID0gcmVxdWlyZSgnLi9NYXRjaGVycycpXG5cbm1vZHVsZS5leHBvcnRzID0gc2Nhbm5lclxuXG5mdW5jdGlvbiBzY2FubmVyIChjb2RlKSB7XG4gICAgY29uc3QgWyBCT0YsIEVPRiwgRU9MIF0gPSBbIHt9LCB7fSwgJ1xcbicgXVxuICAgIGNvbnN0IFsgY2hBbGxzLCBjaE1hcHMgXSA9IFsgW10sIFtdIF1cblxuICAgIC8vIOWIneWni+WMluS7o+eggeaVsOaNrlxuICAgIDsoKCkgPT4ge1xuICAgICAgICBsZXQgbGluZU51bSA9IC0xIC8vIOWOn+Wni+ihjOagh++8jOWboOS4uuimgeWvueepuuihjOi/m+ihjOi/h+a7pFxuICAgICAgICBjb2RlLnNwbGl0KC9cXHJcXG4/fFxccj9cXG4vKS5mb3JFYWNoKGxpbmUgPT4ge1xuICAgICAgICAgICAgbGluZSA9IGxpbmUudHJpbSgpXG4gICAgICAgICAgICBsaW5lTnVtKytcblxuICAgICAgICAgICAgaWYgKCFsaW5lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBkb2N1bWVudFxuICAgICAgICAgICAgbGluZSA9IGxpbmUucmVwbGFjZSgvXFwvXFwvKFxcLyk/IC4rLywgKG1hdGNoZWQsIGlzRG9jdW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXNEb2N1bWVudCkge1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudCA9IG1hdGNoZWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuICcnXG4gICAgICAgICAgICB9KS50cmltKClcblxuICAgICAgICAgICAgaWYgKCFsaW5lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGJJbmRleCA9IGNoQWxscy5sZW5ndGhcbiAgICAgICAgICAgIGNoQWxscy5wdXNoKC4uLmxpbmUuc3BsaXQoJycpLCAnXFxuJylcbiAgICAgICAgICAgIGNvbnN0IGVJbmRleCA9IGNoQWxscy5sZW5ndGhcbiAgICAgICAgICAgIGNoTWFwcy5wdXNoKFsgbGluZU51bSwgYkluZGV4LCBlSW5kZXgsIGRvY3VtZW50IF0pXG4gICAgICAgIH0pXG4gICAgfSkoKVxuXG4gICAgY29uc3QgcmVjb3JkU3RhY2sgPSBbXVxuICAgIGNvbnN0IHNyID0ge1xuICAgICAgICBFT0YsXG4gICAgICAgIEVPTCxcbiAgICAgICAgY2hJbmRleDogMCxcbiAgICAgICAgY2hOb3c6IEJPRixcbiAgICAgICAgbm90RU9GOiAoKSA9PiBzci5jaEluZGV4IDwgY2hBbGxzLmxlbmd0aCxcbiAgICAgICAgdXNlIChtYXRjaGVyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ3VzZScsIHNyLmNoSW5kZXgsIGNoQWxscylcblxuICAgICAgICAgICAgbWF0Y2hlci5zY2FuKG5ldyBSdW50aW1lKG51bGwsIG5ldyBSb290TWF0Y2hlcigodGhpc1J1bnRpbWUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8oJ3Jlc29sdmU9PT0nLCB0aGlzUnVudGltZSlcbiAgICAgICAgICAgIH0sICh0aGlzUnVudGltZSwgZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8odGhpc1J1bnRpbWUsIGVycm9yKVxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCfop6PmnpDlh7rplJnllaYnKVxuICAgICAgICAgICAgfSksIHsgc3IgfSkpXG4gICAgICAgIH0sXG4gICAgICAgIHJlYWQ6ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChzci5jaEluZGV4ID09PSBjaEFsbHMubGVuZ3RoKSB7IC8vIOWkhOS6juaWh+S7tue7k+WwvlxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdjaOW3sue7j+WIsOi+vue7k+WwvicpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3IuY2hOb3cgPSBjaEFsbHNbc3IuY2hJbmRleCsrXVxuICAgICAgICB9LFxuICAgICAgICBiYWNrOiAoKSA9PiBzci5jaE5vdyA9IGNoQWxsc1stLXNyLmNoSW5kZXhdLFxuICAgICAgICBlcnJvciAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycilcbiAgICAgICAgfSxcbiAgICAgICAgbW92ZVRvOiAoY2hJbmRleCkgPT4gc3IuY2hOb3cgPSBjaEFsbHNbc3IuY2hJbmRleCA9IGNoSW5kZXhdLFxuICAgICAgICBjcmVhdGVSZWNvcmQ6ICgpID0+IHJlY29yZFN0YWNrLnB1c2goc3IuY2hJbmRleCksXG4gICAgICAgIHJlbW92ZVJlY29yZDogKCkgPT4gcmVjb3JkU3RhY2sucG9wKCksXG4gICAgICAgIHJvbGxiYWNrOiAoKSA9PiBzci5tb3ZlVG8ocmVjb3JkU3RhY2sucG9wKCkpLFxuICAgICAgICB0ZXh0OiAoYkluZGV4LCBlSW5kZXgpID0+IGNoQWxscy5zbGljZShiSW5kZXgsIGVJbmRleCkuam9pbignJyksXG4gICAgfVxuXG4gICAgcmV0dXJuIHNyXG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib2/Compiler/scanner.js\n");

/***/ }),

/***/ "./lib2/index.js":
/*!***********************!*\
  !*** ./lib2/index.js ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var Compiler = __webpack_require__(/*! ./Compiler */ \"./lib2/Compiler/index.js\");\n\nvar compiler = new Compiler({\n  matchers: {\n    main: {\n      // source: '<w>+',\n      source: ' <objectField> | <jsExpression> '\n    },\n    objectField: {\n      source: \"\\n                '@' <objectFieldKey> ( ':' <dbFieldKey> )? <eol> | \\n                '@' <objectFieldKey> (\\n                    ' ' <objectFiledValueExpression> <eol> |\\n                    ( '(' <s>* ')' )? ( <map> | <list> | <block> ) |\\n                    '(' <listLength> ')' <list> |\\n                    ( ':' <dbTableName> )? '(' <dbSqlExpression>? ')' (\\n                        <map> | <list> | <block>\\n                    )\\n                )\\n            \",\n      before: function before(tb) {\n        return tb.objectFieldCreate();\n      },\n      done: function done(tb) {\n        return tb.objectFieldComplete();\n      },\n      document: function document(tb, text) {\n        return tb.documentCreate(text);\n      }\n    },\n    objectFieldKey: {\n      source: ' <w>+ ',\n      done: function done(tb, text) {\n        return tb.objectFieldSetKey(text);\n      }\n    },\n    objectFiledValueExpression: {\n      source: function source(sr) {\n        var hasMatched = false;\n\n        while (true) {\n          if (sr.read() === sr.EOL) {\n            sr.back();\n            break;\n          }\n\n          hasMatched = true;\n        }\n\n        return hasMatched;\n      },\n      done: function done(tb, text) {\n        return tb.objectFieldSetValueExpression(text);\n      }\n    },\n    map: {\n      source: \" \\n                '{' <eol> <dbFieldDefine>? <objectField>* '}' <eol> \\n            \",\n      before: function before(tb) {\n        return tb.mapCreate();\n      },\n      done: function done(tb) {\n        return tb.childCompile();\n      }\n    },\n    list: {\n      source: \"\\n                '[' <eol> <dbFieldDefine>? <objectField>* ']' <eol>\\n            \",\n      before: function before(tb) {\n        return tb.listCreate();\n      },\n      done: function done(tb) {\n        return tb.childCompile();\n      }\n    },\n    listLength: {\n      source: ' <d>+ ',\n      done: function done(tb, text) {\n        return tb.listSetLength(text);\n      }\n    },\n    block: {\n      source: \"\\n                '(:' <eol> <dbFieldDefine>? <blockExpression>* <valueReturnExpression> ':)' <eol> \\n            \",\n      before: function before(tb) {\n        return tb.block();\n      },\n      done: function done(tb) {\n        return tb.childCompile();\n      }\n    },\n    blockExpression: {\n      source: function source(sr) {\n        var text = [];\n\n        while (true) {\n          var cr = sr.read();\n\n          if (cr === sr.EOL) {\n            break;\n          }\n\n          text.push(cr);\n        }\n\n        var line = text.join('');\n\n        if (/^@|^:\\)$/.test(line)) {\n          return false;\n        }\n\n        return true;\n      },\n      done: function done(tb, text) {\n        return tb.setBlockExpression(text);\n      }\n    },\n    valueReturnExpression: {\n      source: function source(sr) {\n        if (sr.read() !== '@' || sr.read() !== ' ') {\n          return false;\n        }\n\n        while (true) {\n          if (sr.read() === sr.EOL) {\n            break;\n          }\n        }\n\n        return true;\n      },\n      done: function done(tb, text) {\n        return tb.setValueReturnExpression(text.slice(2, -1));\n      }\n    },\n    jsExpression: {\n      source: ' <.>+ <eol> ',\n      done: function done(tb, text) {\n        return tb.setJsExpression(text.slice(0, -1));\n      }\n    },\n    dbFieldKey: {\n      source: \"\\n                <w> (<w> | '.')*\\n            \",\n      done: function done(tb, text) {\n        return tb.dbSetFieldKey(text);\n      }\n    },\n    dbTableName: {\n      source: ' <w>+ ',\n      done: function done(tb, text) {\n        return tb.dbSetTableName(text);\n      }\n    },\n    dbSqlExpression: {\n      source: function source(sr) {\n        var hasMatched = false;\n        var isEscape = false; // 是否遇到转义反斜杠\n\n        var bkLength = 0; // 括号开启的次数\n\n        while (sr.notEOF()) {\n          var cr = sr.read();\n\n          if (isEscape) {\n            isEscape = false;\n          } else if (cr === '\\\\') {\n            isEscape = true;\n          } else if (cr === '(') {\n            bkLength++;\n          } else if (cr === ')') {\n            if (bkLength > 0) {\n              bkLength--;\n            } else {\n              // 结束\n              sr.back();\n              break;\n            }\n          }\n\n          hasMatched = true; // 任意长度，表示成功\n        }\n\n        return hasMatched;\n      },\n      done: function done(tb, text) {\n        return tb.dbSetSqlExpression(text);\n      }\n    },\n    dbFieldDefine: {\n      source: function source(sr) {\n        if (sr.read() !== '#') {\n          return false;\n        }\n\n        var text = [];\n\n        while (sr.notEOF()) {\n          var cr = sr.read();\n\n          if (cr === sr.EOL) {\n            break;\n          }\n\n          text.push(cr);\n        }\n\n        return /^\\(.+?\\)$/.test(text.join(''));\n      },\n      done: function done(tb, text) {\n        return tb.dbSetFieldDefine(text.slice(2, -2));\n      }\n    }\n  }\n});\nmodule.exports = {\n  compile: function compile(code) {\n    return compiler.run(code);\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIyL2luZGV4LmpzPzNiN2UiXSwibmFtZXMiOlsiQ29tcGlsZXIiLCJyZXF1aXJlIiwiY29tcGlsZXIiLCJtYXRjaGVycyIsIm1haW4iLCJzb3VyY2UiLCJvYmplY3RGaWVsZCIsImJlZm9yZSIsInRiIiwib2JqZWN0RmllbGRDcmVhdGUiLCJkb25lIiwib2JqZWN0RmllbGRDb21wbGV0ZSIsImRvY3VtZW50IiwidGV4dCIsImRvY3VtZW50Q3JlYXRlIiwib2JqZWN0RmllbGRLZXkiLCJvYmplY3RGaWVsZFNldEtleSIsIm9iamVjdEZpbGVkVmFsdWVFeHByZXNzaW9uIiwic3IiLCJoYXNNYXRjaGVkIiwicmVhZCIsIkVPTCIsImJhY2siLCJvYmplY3RGaWVsZFNldFZhbHVlRXhwcmVzc2lvbiIsIm1hcCIsIm1hcENyZWF0ZSIsImNoaWxkQ29tcGlsZSIsImxpc3QiLCJsaXN0Q3JlYXRlIiwibGlzdExlbmd0aCIsImxpc3RTZXRMZW5ndGgiLCJibG9jayIsImJsb2NrRXhwcmVzc2lvbiIsImNyIiwicHVzaCIsImxpbmUiLCJqb2luIiwidGVzdCIsInNldEJsb2NrRXhwcmVzc2lvbiIsInZhbHVlUmV0dXJuRXhwcmVzc2lvbiIsInNldFZhbHVlUmV0dXJuRXhwcmVzc2lvbiIsInNsaWNlIiwianNFeHByZXNzaW9uIiwic2V0SnNFeHByZXNzaW9uIiwiZGJGaWVsZEtleSIsImRiU2V0RmllbGRLZXkiLCJkYlRhYmxlTmFtZSIsImRiU2V0VGFibGVOYW1lIiwiZGJTcWxFeHByZXNzaW9uIiwiaXNFc2NhcGUiLCJia0xlbmd0aCIsIm5vdEVPRiIsImRiU2V0U3FsRXhwcmVzc2lvbiIsImRiRmllbGREZWZpbmUiLCJkYlNldEZpZWxkRGVmaW5lIiwibW9kdWxlIiwiZXhwb3J0cyIsImNvbXBpbGUiLCJjb2RlIiwicnVuIl0sIm1hcHBpbmdzIjoiQUFDQSxJQUFNQSxRQUFRLEdBQUdDLG1CQUFPLENBQUMsNENBQUQsQ0FBeEI7O0FBRUEs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LGtCQUFILENBQXNCdkMsSUFBdEIsQ0FBZDtBQUFBO0FBM0JPLEtBbEhYO0FBK0lOd0MsaUJBQWEsRUFBRTtBQUNYaEQsWUFEVyxrQkFDSGEsRUFERyxFQUNDO0FBQ1IsWUFBSUEsRUFBRSxDQUFDRSxJQUFILE9BQWMsR0FBbEIsRUFBdUI7QUFDbkIsaUJBQU8sS0FBUDtBQUNIOztBQUVELFlBQU1QLElBQUksR0FBRyxFQUFiOztBQUNBLGVBQU9LLEVBQUUsQ0FBQ2lDLE1BQUgsRUFBUCxFQUFvQjtBQUNoQixjQUFNbEIsRUFBRSxHQUFHZixFQUFFLENBQUNFLElBQUgsRUFBWDs7QUFDQSxjQUFJYSxFQUFFLEtBQUtmLEVBQUUsQ0FBQ0csR0FBZCxFQUFtQjtBQUNmO0FBQ0g7O0FBQ0RSLGNBQUksQ0FBQ3FCLElBQUwsQ0FBVUQsRUFBVjtBQUNIOztBQUNELGVBQU8sWUFBWUksSUFBWixDQUFpQnhCLElBQUksQ0FBQ3VCLElBQUwsQ0FBVSxFQUFWLENBQWpCLENBQVA7QUFDSCxPQWZVO0FBZ0JYMUIsVUFBSSxFQUFFLGNBQUNGLEVBQUQsRUFBS0ssSUFBTDtBQUFBLGVBQWNMLEVBQUUsQ0FBQzhDLGdCQUFILENBQW9CekMsSUFBSSxDQUFDNEIsS0FBTCxDQUFXLENBQVgsRUFBYyxDQUFDLENBQWYsQ0FBcEIsQ0FBZDtBQUFBO0FBaEJLO0FBL0lUO0FBRGdCLENBQWIsQ0FBakI7QUFzS0FjLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUNiQyxTQUFPLEVBQUUsaUJBQUFDLElBQUk7QUFBQSxXQUFJeEQsUUFBUSxDQUFDeUQsR0FBVCxDQUFhRCxJQUFiLENBQUo7QUFBQTtBQURBLENBQWpCIiwiZmlsZSI6Ii4vbGliMi9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuY29uc3QgQ29tcGlsZXIgPSByZXF1aXJlKCcuL0NvbXBpbGVyJylcblxuY29uc3QgY29tcGlsZXIgPSBuZXcgQ29tcGlsZXIoe1xuICAgIG1hdGNoZXJzOiB7XG4gICAgICAgIG1haW46IHtcbiAgICAgICAgICAgIC8vIHNvdXJjZTogJzx3PisnLFxuICAgICAgICAgICAgc291cmNlOiAnIDxvYmplY3RGaWVsZD4gfCA8anNFeHByZXNzaW9uPiAnLFxuICAgICAgICB9LFxuXG4gICAgICAgIG9iamVjdEZpZWxkOiB7XG4gICAgICAgICAgICBzb3VyY2U6IGBcbiAgICAgICAgICAgICAgICAnQCcgPG9iamVjdEZpZWxkS2V5PiAoICc6JyA8ZGJGaWVsZEtleT4gKT8gPGVvbD4gfCBcbiAgICAgICAgICAgICAgICAnQCcgPG9iamVjdEZpZWxkS2V5PiAoXG4gICAgICAgICAgICAgICAgICAgICcgJyA8b2JqZWN0RmlsZWRWYWx1ZUV4cHJlc3Npb24+IDxlb2w+IHxcbiAgICAgICAgICAgICAgICAgICAgKCAnKCcgPHM+KiAnKScgKT8gKCA8bWFwPiB8IDxsaXN0PiB8IDxibG9jaz4gKSB8XG4gICAgICAgICAgICAgICAgICAgICcoJyA8bGlzdExlbmd0aD4gJyknIDxsaXN0PiB8XG4gICAgICAgICAgICAgICAgICAgICggJzonIDxkYlRhYmxlTmFtZT4gKT8gJygnIDxkYlNxbEV4cHJlc3Npb24+PyAnKScgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPG1hcD4gfCA8bGlzdD4gfCA8YmxvY2s+XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICBgLFxuICAgICAgICAgICAgYmVmb3JlOiB0YiA9PiB0Yi5vYmplY3RGaWVsZENyZWF0ZSgpLFxuICAgICAgICAgICAgZG9uZTogdGIgPT4gdGIub2JqZWN0RmllbGRDb21wbGV0ZSgpLFxuICAgICAgICAgICAgZG9jdW1lbnQ6ICh0YiwgdGV4dCkgPT4gdGIuZG9jdW1lbnRDcmVhdGUodGV4dCksXG4gICAgICAgIH0sXG4gICAgICAgIG9iamVjdEZpZWxkS2V5OiB7XG4gICAgICAgICAgICBzb3VyY2U6ICcgPHc+KyAnLFxuICAgICAgICAgICAgZG9uZTogKHRiLCB0ZXh0KSA9PiB0Yi5vYmplY3RGaWVsZFNldEtleSh0ZXh0KSxcbiAgICAgICAgfSxcbiAgICAgICAgb2JqZWN0RmlsZWRWYWx1ZUV4cHJlc3Npb246IHtcbiAgICAgICAgICAgIHNvdXJjZSAoc3IpIHtcbiAgICAgICAgICAgICAgICBsZXQgaGFzTWF0Y2hlZCA9IGZhbHNlXG4gICAgICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNyLnJlYWQoKSA9PT0gc3IuRU9MKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzci5iYWNrKClcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaGFzTWF0Y2hlZCA9IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhc01hdGNoZWRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkb25lOiAodGIsIHRleHQpID0+IHRiLm9iamVjdEZpZWxkU2V0VmFsdWVFeHByZXNzaW9uKHRleHQpLFxuICAgICAgICB9LFxuXG4gICAgICAgIG1hcDoge1xuICAgICAgICAgICAgc291cmNlOiBgIFxuICAgICAgICAgICAgICAgICd7JyA8ZW9sPiA8ZGJGaWVsZERlZmluZT4/IDxvYmplY3RGaWVsZD4qICd9JyA8ZW9sPiBcbiAgICAgICAgICAgIGAsXG4gICAgICAgICAgICBiZWZvcmU6IHRiID0+IHRiLm1hcENyZWF0ZSgpLFxuICAgICAgICAgICAgZG9uZTogdGIgPT4gdGIuY2hpbGRDb21waWxlKCksXG4gICAgICAgIH0sXG4gICAgICAgIGxpc3Q6IHtcbiAgICAgICAgICAgIHNvdXJjZTogYFxuICAgICAgICAgICAgICAgICdbJyA8ZW9sPiA8ZGJGaWVsZERlZmluZT4/IDxvYmplY3RGaWVsZD4qICddJyA8ZW9sPlxuICAgICAgICAgICAgYCxcbiAgICAgICAgICAgIGJlZm9yZTogKHRiKSA9PiB0Yi5saXN0Q3JlYXRlKCksXG4gICAgICAgICAgICBkb25lOiB0YiA9PiB0Yi5jaGlsZENvbXBpbGUoKSxcbiAgICAgICAgfSxcbiAgICAgICAgbGlzdExlbmd0aDoge1xuICAgICAgICAgICAgc291cmNlOiAnIDxkPisgJyxcbiAgICAgICAgICAgIGRvbmU6ICh0YiwgdGV4dCkgPT4gdGIubGlzdFNldExlbmd0aCh0ZXh0KSxcbiAgICAgICAgfSxcbiAgICAgICAgYmxvY2s6IHtcbiAgICAgICAgICAgIHNvdXJjZTogYFxuICAgICAgICAgICAgICAgICcoOicgPGVvbD4gPGRiRmllbGREZWZpbmU+PyA8YmxvY2tFeHByZXNzaW9uPiogPHZhbHVlUmV0dXJuRXhwcmVzc2lvbj4gJzopJyA8ZW9sPiBcbiAgICAgICAgICAgIGAsXG4gICAgICAgICAgICBiZWZvcmU6IHRiID0+IHRiLmJsb2NrKCksXG4gICAgICAgICAgICBkb25lOiB0YiA9PiB0Yi5jaGlsZENvbXBpbGUoKSxcbiAgICAgICAgfSxcbiAgICAgICAgYmxvY2tFeHByZXNzaW9uOiB7XG4gICAgICAgICAgICBzb3VyY2U6IGZ1bmN0aW9uIChzcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBbXVxuICAgICAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNyID0gc3IucmVhZCgpXG4gICAgICAgICAgICAgICAgICAgIGlmIChjciA9PT0gc3IuRU9MKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRleHQucHVzaChjcilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgbGluZSA9IHRleHQuam9pbignJylcbiAgICAgICAgICAgICAgICBpZiAoL15AfF46XFwpJC8udGVzdChsaW5lKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkb25lOiAodGIsIHRleHQpID0+IHRiLnNldEJsb2NrRXhwcmVzc2lvbih0ZXh0KSxcbiAgICAgICAgfSxcbiAgICAgICAgdmFsdWVSZXR1cm5FeHByZXNzaW9uOiB7XG4gICAgICAgICAgICBzb3VyY2UgKHNyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNyLnJlYWQoKSAhPT0gJ0AnIHx8IHNyLnJlYWQoKSAhPT0gJyAnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3IucmVhZCgpID09PSBzci5FT0wpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkb25lOiAodGIsIHRleHQpID0+IHRiLnNldFZhbHVlUmV0dXJuRXhwcmVzc2lvbih0ZXh0LnNsaWNlKDIsIC0xKSksXG4gICAgICAgIH0sXG5cbiAgICAgICAganNFeHByZXNzaW9uOiB7XG4gICAgICAgICAgICBzb3VyY2U6ICcgPC4+KyA8ZW9sPiAnLFxuICAgICAgICAgICAgZG9uZTogKHRiLCB0ZXh0KSA9PiB0Yi5zZXRKc0V4cHJlc3Npb24odGV4dC5zbGljZSgwLCAtMSkpLFxuICAgICAgICB9LFxuXG4gICAgICAgIGRiRmllbGRLZXk6IHtcbiAgICAgICAgICAgIHNvdXJjZTogYFxuICAgICAgICAgICAgICAgIDx3PiAoPHc+IHwgJy4nKSpcbiAgICAgICAgICAgIGAsXG4gICAgICAgICAgICBkb25lOiAodGIsIHRleHQpID0+IHRiLmRiU2V0RmllbGRLZXkodGV4dCksXG4gICAgICAgIH0sXG4gICAgICAgIGRiVGFibGVOYW1lOiB7XG4gICAgICAgICAgICBzb3VyY2U6ICcgPHc+KyAnLFxuICAgICAgICAgICAgZG9uZTogKHRiLCB0ZXh0KSA9PiB0Yi5kYlNldFRhYmxlTmFtZSh0ZXh0KSxcbiAgICAgICAgfSxcbiAgICAgICAgZGJTcWxFeHByZXNzaW9uOiB7XG4gICAgICAgICAgICBzb3VyY2UgKHNyKSB7XG4gICAgICAgICAgICAgICAgbGV0IGhhc01hdGNoZWQgPSBmYWxzZVxuICAgICAgICAgICAgICAgIGxldCBpc0VzY2FwZSA9IGZhbHNlIC8vIOaYr+WQpumBh+WIsOi9rOS5ieWPjeaWnOadoFxuICAgICAgICAgICAgICAgIGxldCBia0xlbmd0aCA9IDAgLy8g5ous5Y+35byA5ZCv55qE5qyh5pWwXG5cbiAgICAgICAgICAgICAgICB3aGlsZSAoc3Iubm90RU9GKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3IgPSBzci5yZWFkKClcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRXNjYXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0VzY2FwZSA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3IgPT09ICdcXFxcJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNFc2NhcGUgPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3IgPT09ICcoJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmtMZW5ndGgrK1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNyID09PSAnKScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChia0xlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBia0xlbmd0aC0tXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyDnu5PmnZ9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzci5iYWNrKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGhhc01hdGNoZWQgPSB0cnVlIC8vIOS7u+aEj+mVv+W6pu+8jOihqOekuuaIkOWKn1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBoYXNNYXRjaGVkXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZG9uZTogKHRiLCB0ZXh0KSA9PiB0Yi5kYlNldFNxbEV4cHJlc3Npb24odGV4dCksXG4gICAgICAgIH0sXG4gICAgICAgIGRiRmllbGREZWZpbmU6IHtcbiAgICAgICAgICAgIHNvdXJjZSAoc3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3IucmVhZCgpICE9PSAnIycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IFtdXG4gICAgICAgICAgICAgICAgd2hpbGUgKHNyLm5vdEVPRigpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNyID0gc3IucmVhZCgpXG4gICAgICAgICAgICAgICAgICAgIGlmIChjciA9PT0gc3IuRU9MKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRleHQucHVzaChjcilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIC9eXFwoLis/XFwpJC8udGVzdCh0ZXh0LmpvaW4oJycpKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRvbmU6ICh0YiwgdGV4dCkgPT4gdGIuZGJTZXRGaWVsZERlZmluZSh0ZXh0LnNsaWNlKDIsIC0yKSksXG4gICAgICAgIH0sXG5cbiAgICB9LFxufSlcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY29tcGlsZTogY29kZSA9PiBjb21waWxlci5ydW4oY29kZSksXG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib2/index.js\n");

/***/ })

/******/ });